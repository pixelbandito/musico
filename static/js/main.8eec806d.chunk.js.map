{"version":3,"sources":["Key/notes.js","TouchHandler.js","computePositionStyle.js","computeDeltas.js","Draggable.js","Strikeable/index.js","Strikeable/Strikeable.js","Key/Key.js","Key/index.js","KeyBoard/KeyBoard.js","KeyBoard/index.js","App.js","serviceWorker.js","index.js"],"names":["noteValues","C0","C#0","Db0","D0","D#0","Eb0","E0","F0","F#0","Gb0","G0","G#0","Ab0","A0","A#0","Bb0","B0","C1","C#1","Db1","D1","D#1","Eb1","E1","F1","F#1","Gb1","G1","G#1","Ab1","A1","A#1","Bb1","B1","C2","C#2","Db2","D2","D#2","Eb2","E2","F2","F#2","Gb2","G2","G#2","Ab2","A2","A#2","Bb2","B2","C3","C#3","Db3","D3","D#3","Eb3","E3","F3","F#3","Gb3","G3","G#3","Ab3","A3","A#3","Bb3","B3","C4","C#4","Db4","D4","D#4","Eb4","E4","F4","F#4","Gb4","G4","G#4","Ab4","A4","A#4","Bb4","B4","C5","C#5","Db5","D5","D#5","Eb5","E5","F5","F#5","Gb5","G5","G#5","Ab5","A5","A#5","Bb5","B5","C6","C#6","Db6","D6","D#6","Eb6","E6","F6","F#6","Gb6","G6","G#6","Ab6","A6","A#6","Bb6","B6","C7","C#7","Db7","D7","D#7","Eb7","E7","F7","F#7","Gb7","G7","G#7","Ab7","A7","A#7","Bb7","B7","C8","extractPosition","callback","evt","nativeEvent","window","Event","touchPosition","touches","length","touch","x","clientX","y","clientY","_len","arguments","args","Array","_key","apply","concat","TouchHandler","onTouchStart","onTouchMove","onTouchEnd","Object","classCallCheck","this","_listenersAdded","_currentAnimationFrame","_onTouchStart","_onTouchMove","_onTouchEnd","_handleTouchStart","bind","_handleMouseDown","_handleTouchMove","_handleTouchEnd","child","onMouseDown","_this","document","removeEventListener","raf","cancel","addEventListener","synthEvent","_addTouchListeners","props","_addMouseListeners","_this2","cancelAnimationFrame","removeListeners","DIRECTIVES","add","subtract","a","b","computePositionStyle","currentStyle","deltas","reduce","style","directive","_directive","slicedToArray","name","deltaType","operation","undefined","computeDeltas","oldPosition","newPosition","oldX","oldY","dx","dy","DEFAULT_TOUCH","initial","current","Draggable","possibleConstructorReturn","getPrototypeOf","call","state","_touchHandler","handleTouchStart","assertThisInitialized","handleTouchMove","handleTouchEnd","position","_this$state","objectSpread","setState","_this$state2","touchDeltas","componentPosition","onDrag","latest","onDragEnd","_this$props","children","__passThrough","passThrough","passThroughState","isFunction","listeners","type","propTypes","hasOwnProperty","React","cloneElement","Children","only","Component","Strikeable","dragging","height","initialTouchX","initialTouchY","parentX","parentY","touchX","touchY","width","DraggableParent","createRef","handleMouseDown","event","console","log","onStrikeStart","_this$DraggableParent","offsetWidth","offsetHeight","offsetLeft","offsetTop","lastEvent","handleDrag","onStrike","handleDragEnd","onStrikeEnd","react_default","createElement","ref","src_Draggable","left","top","userSelect","textShadow","fontSize","wordWrap","Key","playing","nextVolume","volMute","context","AudioContext","webkitAudioContext","handleStrikeStart","volMax","attack","decay","sustain","gainNode","gain","cancelScheduledValues","currentTime","setTimeout","exponentialRampToValueAtTime","handleStrikeEnd","_this$props2","release","_this$props3","note","createGain","oscillator","createOscillator","frequency","value","start","setValueAtTime","connect","destination","nextGain","_classNames","_this$props4","isBlack","indexOf","className","classNames","baseClass","defineProperty","display","gridTemplateRows","gridTemplateColumns","src_Strikeable","color","defaultProps","KeyBoard","keySizing","flex","minWidth","overflow","keyVolumeProps","keyADSRProps","flexFlow","alignItems","justifyContent","map","src_Key","assign","key","PropTypes","number","App","update","nextValue","parseInt","target","isNaN","Helmet","minHeight","placeholder","onChange","src_KeyBoard","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"qXAAaA,EAAa,CACtBC,GAAM,MACNC,MAAO,MACPC,IAAO,MACPC,GAAM,MACNC,MAAO,MACPC,IAAO,MACPC,GAAM,KACNC,GAAM,MACNC,MAAO,MACPC,IAAO,MACPC,GAAM,KACNC,MAAO,MACPC,IAAO,MACPC,GAAM,KACNC,MAAO,MACPC,IAAO,MACPC,GAAM,MACNC,GAAM,KACNC,MAAO,MACPC,IAAO,MACPC,GAAM,MACNC,MAAO,MACPC,IAAO,MACPC,GAAM,KACNC,GAAM,MACNC,MAAO,MACPC,IAAO,MACPC,GAAM,GACNC,MAAO,MACPC,IAAO,MACPC,GAAM,GACNC,MAAO,MACPC,IAAO,MACPC,GAAM,MACNC,GAAM,MACNC,MAAO,KACPC,IAAO,KACPC,GAAM,MACNC,MAAO,MACPC,IAAO,MACPC,GAAM,MACNC,GAAM,MACNC,MAAO,KACPC,IAAO,KACPC,GAAM,GACNC,MAAO,OACPC,IAAO,OACPC,GAAM,IACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,GAAM,OACNC,MAAO,IACPC,IAAO,IACPC,GAAM,IACNC,MAAO,OACPC,IAAO,OACPC,GAAM,IACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,IACNC,MAAO,MACPC,IAAO,MACPC,GAAM,IACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,IACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,GAAM,OACNC,MAAO,QACPC,IAAO,QACPC,GAAM,QACNC,MAAO,QACPC,IAAO,QACPC,GAAM,QACNC,GAAM,QACNC,MAAO,QACPC,IAAO,QACPC,GAAM,QACNC,MAAO,QACPC,IAAO,QACPC,GAAM,KACNC,MAAO,QACPC,IAAO,QACPC,GAAM,QACNC,GAAM,KACNC,MAAO,QACPC,IAAO,QACPC,GAAM,QACNC,MAAO,QACPC,IAAO,QACPC,GAAM,QACNC,GAAM,QACNC,MAAO,QACPC,IAAO,QACPC,GAAM,QACNC,MAAO,QACPC,IAAO,QACPC,GAAM,KACNC,MAAO,QACPC,IAAO,QACPC,GAAM,QACNC,GAAM,kDCvIJC,EAAkB,SAAAC,GAAQ,OAAI,SAACC,GACnC,IAAIC,EAAcD,EACZA,aAAeE,OAAOC,QAC1BF,EAAcD,EAAIC,aAGpB,IAAIG,EAAgB,KACpB,GAAIH,EAAYI,SAAWJ,EAAYI,QAAQC,OAAQ,CACrD,IAAMC,EAAQN,EAAYI,QAAQ,GAClCD,EAAgB,CAAEI,EAAGD,EAAME,QAASC,EAAGH,EAAMI,cACpCV,EAAYQ,SAAWR,EAAYU,UAC5CP,EAAgB,CAAEI,EAAGP,EAAYQ,QAASC,EAAGT,EAAYU,UAXP,QAAAC,EAAAC,UAAAP,OAATQ,EAAS,IAAAC,MAAAH,EAAA,EAAAA,EAAA,KAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAATF,EAASE,EAAA,GAAAH,UAAAG,GAapD,OAAOjB,EAAQkB,WAAR,GAASb,EAAeJ,GAAxBkB,OAAgCJ,MA2F1BK,aAtFb,SAAAA,EAAYC,EAAcC,EAAaC,GAAaC,OAAAC,EAAA,EAAAD,CAAAE,KAAAN,GAGlDM,KAAKC,iBAAkB,EACvBD,KAAKE,uBAAyB,KAG9BF,KAAKG,cAAgBR,EACrBK,KAAKI,aAAeR,EACpBI,KAAKK,YAAcR,EAEnBG,KAAKM,kBAAoBjC,EAAgB2B,KAAKM,kBAAkBC,KAAKP,OACrEA,KAAKQ,iBAAmBnC,EAAgB2B,KAAKQ,iBAAiBD,KAAKP,OAEnEA,KAAKS,iBAAmBpC,EAAgB2B,KAAKS,iBAAiBF,KAAKP,OACnEA,KAAKU,gBAAkBrC,EAAgB2B,KAAKU,gBAAgBH,KAAKP,6DAGzDW,EAAOhB,EAAciB,GAAa,IAAAC,EAAAb,KAC1C,MAAO,CACLL,aAAc,SAAApB,GAAG,OAAIsC,EAAKP,kBAAkB/B,EAAKoC,EAAOhB,IACxDiB,YAAa,SAAArC,GAAG,OAAIsC,EAAKL,iBAAiBjC,EAAKoC,EAAOC,+CAKxDZ,KAAKC,iBAAkB,EACvBa,SAASC,oBAAoB,YAAaf,KAAKS,kBAC/CK,SAASC,oBAAoB,WAAYf,KAAKU,iBAC9CI,SAASC,oBAAoB,cAAef,KAAKU,iBACjDI,SAASC,oBAAoB,YAAaf,KAAKS,kBAC/CK,SAASC,oBAAoB,UAAWf,KAAKU,gEAI7CM,IAAIC,OAAOjB,KAAKE,wBAChBF,KAAKE,uBAAyB,kDAI9BF,KAAKC,iBAAkB,EACvBa,SAASI,iBAAiB,YAAalB,KAAKS,kBAC5CK,SAASI,iBAAiB,WAAYlB,KAAKU,iBAC3CI,SAASI,iBAAiB,cAAelB,KAAKU,8DAI9CV,KAAKC,iBAAkB,EACvBa,SAASI,iBAAiB,YAAalB,KAAKS,kBAC5CK,SAASI,iBAAiB,UAAWlB,KAAKU,2DAG1B/B,EAAewC,EAAYR,EAAOhB,GAC9CK,KAAKC,kBACTD,KAAKoB,qBAELT,EAAMU,MAAM1B,cAAgBgB,EAAMU,MAAM1B,aAAawB,GACrDxB,GAAgBA,EAAawB,GAC7BnB,KAAKG,cAAcxB,6CAGJA,EAAewC,EAAYR,EAAOC,GAC7CZ,KAAKC,kBACTD,KAAKsB,qBAELX,EAAMU,MAAMT,aAAeD,EAAMU,MAAMT,YAAYO,GACnDP,GAAeA,EAAYO,GAC3BnB,KAAKG,cAAcxB,6CAGJA,GAAe,IAAA4C,EAAAvB,KACzBA,KAAKE,yBACRF,KAAKE,uBAAyBc,IAAI,WAChCO,EAAKrB,uBAAyB,KAC9BqB,EAAKnB,aAAazB,8CAKRA,GACdqB,KAAKwB,uBACLxB,KAAKyB,kBACLzB,KAAKK,YAAY1B,oBCtGf+C,EAAa,CACjB,CAAC,OAAQ,KAAMC,GACf,CAAC,MAAO,KAAMA,GACd,CAAC,SAAU,KAAMC,GACjB,CAAC,QAAS,KAAMA,GAChB,CAAC,aAAc,KAAMD,GACrB,CAAC,aAAc,KAAMA,IAcvB,SAASA,EAAIE,EAAGC,GACd,OAAOD,EAAIC,EAGb,SAASF,EAASC,EAAGC,GACnB,OAAOH,EAAIE,GAAIC,GAIFC,MApBc,SAACC,EAAcC,GAC1C,OAAOP,EAAWQ,OAAO,SAACC,EAAOC,GAAc,IAAAC,EAAAvC,OAAAwC,EAAA,EAAAxC,CACRsC,EADQ,GACtCG,EADsCF,EAAA,GAChCG,EADgCH,EAAA,GACrBI,EADqBJ,EAAA,GAM7C,YAJ2BK,IAAvBV,EAAaO,KAEfJ,EAAMI,GAAQE,EAAUT,EAAaO,GAAON,EAAOO,KAE9CL,GACN,KCXUQ,EANO,SAACC,EAAaC,GAAgB,IACvCC,EAAkBF,EAArB7D,EAAYgE,EAASH,EAAZ3D,EAEjB,MAAO,CAAE+D,GADoBH,EAArB9D,EACY+D,EAAMG,GADGJ,EAAZ5D,EACoB8D,ICOjCG,EAAgB,CAAEC,QAAS,KAAMC,QAAS,KAAMnB,OADlC,CAAEe,GAAI,EAAGC,GAAI,IAmElBI,cAnDb,SAAAA,EAAYhC,GAAO,IAAAR,EAAA,OAAAf,OAAAC,EAAA,EAAAD,CAAAE,KAAAqD,IACjBxC,EAAAf,OAAAwD,EAAA,EAAAxD,CAAAE,KAAAF,OAAAyD,EAAA,EAAAzD,CAAAuD,GAAAG,KAAAxD,KAAMqB,KACDoC,MAAQP,EACbrC,EAAK6C,cAAgB,IAAIhE,EACvBmB,EAAK8C,iBAAiBpD,KAAtBT,OAAA8D,EAAA,EAAA9D,QAAA8D,EAAA,EAAA9D,CAAAe,KACAA,EAAKgD,gBAAgBtD,KAArBT,OAAA8D,EAAA,EAAA9D,QAAA8D,EAAA,EAAA9D,CAAAe,KACAA,EAAKiD,eAAevD,KAApBT,OAAA8D,EAAA,EAAA9D,QAAA8D,EAAA,EAAA9D,CAAAe,MANeA,kFAUA,IACTkD,EAAa/D,KAAKqB,MAAlB0C,SADSC,EAE0BhE,KAAKyD,MAAxCxB,EAFS+B,EAET/B,OAAiBtD,EAFRqF,EAEDZ,QACVA,EAAUrB,EAAqBgC,EAAU9B,GAC/C,OAAOnC,OAAAmE,EAAA,EAAAnE,CAAA,GAAKsD,EAAYnB,EAAWtD,4CAGpBA,GACfqB,KAAKkE,SAAS,CAAEf,QAASxE,EAAeyE,QAASzE,4CAGnCA,GAAe,IAAAwF,EACDnE,KAAKyD,MAAzBxB,EADqBkC,EACrBlC,OAAQmB,EADae,EACbf,QACVgB,EAAczB,EAAcS,EAASzE,GACrC0F,EAAoBtC,EAAqB/B,KAAKqB,MAAM0C,SAAUK,GACpEpE,KAAKqB,MAAMiD,QAAUtE,KAAKqB,MAAMiD,OAAXxE,OAAAmE,EAAA,EAAAnE,CAAA,GAAuBuE,EAAsBjB,IAElE,IAAMmB,EAAS,CAACvB,GAAIf,EAAOe,GAAKoB,EAAYpB,GAAIC,GAAIhB,EAAOgB,GAAKmB,EAAYnB,IAC5EjD,KAAKkE,SAAS,CAAEjC,OAAQsC,EAAQnB,QAASzE,6CAIzCqB,KAAKqB,MAAMmD,WAAaxE,KAAKqB,MAAMmD,6CAG5B,IAAAC,EACwDzE,KAAKqB,MAA5D1B,EADD8E,EACC9E,aAAciB,EADf6D,EACe7D,YAAa8D,EAD5BD,EAC4BC,SAAUC,EADtCF,EACsCE,cACvCC,EAAW9E,OAAAmE,EAAA,EAAAnE,CAAA,GAAQ6E,EAAkB3E,KAAK6E,oBAC1ClE,EAAQmE,IAAWJ,GAAYA,EAAS5E,OAAAmE,EAAA,EAAAnE,CAAA,GAAK8E,IAAiBF,EAC9DrD,EAAKvB,OAAAmE,EAAA,EAAAnE,CAAA,GACNE,KAAK0D,cAAcqB,UAAUpE,EAAOhB,EAAciB,IAOvD,OAJID,EAAMqE,KAAKC,WAAatE,EAAMqE,KAAKC,UAAUC,eAAe,mBAC9D7D,EAAMsD,cAAgBC,GAGjBO,IAAMC,aAAaD,IAAME,SAASC,KAAK3E,GAAQU,UA3DlC8D,IAAMI,WCXfC,6MCGb/B,MAAQ,CACNgC,UAAU,EACVC,OAAQ,KACRC,cAAe,KACfC,cAAe,KACfC,QAAS,KACTC,QAAS,KACTC,OAAQ,KACRC,OAAQ,KACRC,MAAO,QAGTC,gBAAkBf,IAAMgB,cAExBC,gBAAkB,SAACC,GACjBC,QAAQC,IAAI,mBADe,IAGnBC,EAAkB3F,EAAKQ,MAAvBmF,cAER,GAAI3F,EAAKqF,gBAAgB9C,QAAS,KAAAqD,EAM5B5F,EAAKqF,gBAAgB9C,QAJV6C,EAFiBQ,EAE9BC,YACchB,EAHgBe,EAG9BE,aACYd,EAJkBY,EAI9BG,WACWd,EALmBW,EAK9BI,UAKId,GAFeM,EAAMrH,QAEI6G,GAAWI,EACpCD,GAFeK,EAAMnH,QAEI4G,GAAWJ,EAE1C7E,EAAKqD,SAAS,CACZuB,UAAU,EACVC,SACAC,cAAeI,EACfH,cAAeI,EACfH,UACAC,UACAC,OAAQA,EACRC,OAAQA,EACRC,QACAa,UAAW,oBAGbN,GAAiBA,EAAc,CAAER,eAIrCrC,iBAAmB,SAAC0C,GAClBC,QAAQC,IAAI,oBADgB,IAGpBC,EAAkB3F,EAAKQ,MAAvBmF,cAER3F,EAAKqD,SAAS,CACZ4C,UAAW,qBAGbN,GAAiBA,OAGnBO,WAAa,SAACV,GACZC,QAAQC,IAAI,cADU,IAGdS,EAAanG,EAAKQ,MAAlB2F,SAHchD,EAWlBnD,EAAK4C,MALPgC,EANoBzB,EAMpByB,SACAC,EAPoB1B,EAOpB0B,OACAG,EARoB7B,EAQpB6B,QACAC,EAToB9B,EASpB8B,QACAG,EAVoBjC,EAUpBiC,MAGF,GAAIR,EAAU,CACZ,IAEMM,GAFeM,EAAMtH,EAEI8G,GAAWI,EACpCD,GAFeK,EAAMpH,EAEI6G,GAAWJ,EAE1C,GAAIK,EAAS,GAAKA,EAAS,GAAKC,EAAS,GAAKA,EAAS,EAOrD,OANAnF,EAAKqD,SAAS,CACZuB,UAAU,SAGZ5E,EAAKoG,gBAKPpG,EAAKqD,SAAS,CACZ6B,OAAQA,EACRC,OAAQA,EACRc,UAAW,eAGbE,GAAYA,EAAS,CAAEhB,eAI3BiB,cAAgB,WACdX,QAAQC,IAAI,iBADQ,IAGZW,EAAgBrG,EAAKQ,MAArB6F,YAERrG,EAAKqD,SAAS,CACZuB,UAAU,EACVqB,UAAW,kBAGbI,GAAeA,6EAGR,IAAA3F,EAAAvB,KACCmC,EAAUnC,KAAKqB,MAAfc,MAER,OACEgF,EAAAtF,EAAAuF,cAAA,OACEC,IAAKrH,KAAKkG,gBACV/D,MAAKrC,OAAAmE,EAAA,EAAAnE,CAAA,CACHiE,SAAU,YACP5B,IAGLgF,EAAAtF,EAAAuF,cAACE,EAAD,CACE1G,YAAaZ,KAAKoG,gBAClBzG,aAAcK,KAAK2D,iBACnBW,OAAQtE,KAAK+G,WACbvC,UAAWxE,KAAKiH,cAChBlD,SAAU,CACRwD,KAAM,EACNC,IAAK,IAGN,SAACnB,GAAD,OACCc,EAAAtF,EAAAuF,cAAA,WACED,EAAAtF,EAAAuF,cAAA,OAAKjF,MAAO,CACVsF,WAAY,OACZC,WAAY,mCACZC,SAAU,OACVC,SAAU,aACV7D,SAAU,WACVkC,MAAO,OACPP,OAAQ,SAPV,UAUEyB,EAAAtF,EAAAuF,cAAA,WAVF,MAWM7F,EAAKkC,MAAMsC,OACfoB,EAAAtF,EAAAuF,cAAA,WAZF,MAaM7F,EAAKkC,MAAMuC,OACfmB,EAAAtF,EAAAuF,cAAA,WAdF,eAee7F,EAAKkC,MAAMqD,WAE1BK,EAAAtF,EAAAuF,cAAA,OACEjF,MAAKrC,OAAAmE,EAAA,EAAAnE,CAAA,GACAqC,EADA,CAEH4B,SAAU,WACVkC,MAAO,OACPP,OAAQ,OACR8B,IAAK,IACLD,KAAM,mBAjKUhC,aCG5BsC,6MAGJpE,MAAQ,CACNqE,SAAS,EACTC,WAAYlH,EAAKQ,MAAM2G,QACvBC,QAAUxJ,OAAOyJ,cAAgB,IAAIzJ,OAAOyJ,cAAoBzJ,OAAO0J,oBAAsB,IAAI1J,OAAO0J,oBAAyB,QAqBnIC,kBAAoB,SAAC/B,GAAU,IAAA5B,EAOzB5D,EAAKQ,MALPgH,EAF2B5D,EAE3B4D,OACAL,EAH2BvD,EAG3BuD,QACAM,EAJ2B7D,EAI3B6D,OACAC,EAL2B9D,EAK3B8D,MACAC,EAN2B/D,EAM3B+D,QAGMP,EAAYpH,EAAK4C,MAAjBwE,QACRpH,EAAK4H,SAASC,KAAKC,sBAAsBV,EAAQW,aACjDC,WAAW,WACThI,EAAK4H,SAASC,KAAKI,6BAA6BT,EAAShC,EAAML,OAAS,GAAM,GAAKiC,EAAQW,YAAcN,GACzGO,WAAW,WACTvC,QAAQC,IAAI,CAAEqC,YAAaX,EAAQW,YAAaL,UAChD1H,EAAK4H,SAASC,KAAKI,6BAA6BT,EAAShC,EAAML,OAAS,GAAM,GAAM,GAAKiC,EAAQW,YAAcL,GAC/GM,WAAW,WACThI,EAAK4H,SAASC,KAAKI,6BAA6Bd,EAASC,EAAQW,YAAcJ,SAMrF3H,EAAKqD,SAAS,CAAE4D,SAAS,OAG3BiB,gBAAkB,WAAM,IAAAC,EAIlBnI,EAAKQ,MAFP2G,EAFoBgB,EAEpBhB,QACAiB,EAHoBD,EAGpBC,QAGF3C,QAAQC,IAAI,mBANU,IAOd0B,EAAYpH,EAAK4C,MAAjBwE,QACRpH,EAAK4H,SAASC,KAAKC,sBAAsBV,EAAQW,aACjDC,WAAW,kBAAMhI,EAAK4H,SAASC,KAAKI,6BAA6Bd,EAASC,EAAQW,YAAcK,KAEhGpI,EAAKqD,SAAS,CAAE4D,SAAS,wFAvDP,IAAAoB,EAIdlJ,KAAKqB,MAFP8H,EAFgBD,EAEhBC,KACAnB,EAHgBkB,EAGhBlB,QAGMC,EAAYjI,KAAKyD,MAAjBwE,QACRjI,KAAKyI,SAAWR,EAAQmB,aACxBpJ,KAAKqJ,WAAapB,EAAQqB,mBAC1BtJ,KAAKqJ,WAAWrE,KAAO,OACvBhF,KAAKqJ,WAAWE,UAAUC,MAAQ7T,EAAWwT,GAC7CnJ,KAAKqJ,WAAWI,MAAM,GACtBzJ,KAAKyI,SAASC,KAAKgB,eAAe1B,EAASC,EAAQW,aACnD5I,KAAKqJ,WAAWM,QAAQ3J,KAAKyI,UAC7BzI,KAAKyI,SAASkB,QAAQ1B,EAAQ2B,aAC9B5J,KAAK6J,SAAW,sCA2CT,IAAAC,EAAAC,EAIH/J,KAAKqB,MAFP8H,EAFKY,EAELZ,KACAhH,EAHK4H,EAGL5H,MAGM2F,EAAY9H,KAAKyD,MAAjBqE,QAEFkC,EAAUb,EAAKc,QAAQ,MAAQ,GAAKd,EAAKc,QAAQ,MAAQ,EAEzDC,EAAYC,IAAWtC,EAAIuC,WAALN,EAAA,GAAAhK,OAAAuK,EAAA,EAAAvK,CAAAgK,EAAA,GAAArK,OACtBoI,EAAIuC,UADkB,YACItC,GADJhI,OAAAuK,EAAA,EAAAvK,CAAAgK,EAAA,GAAArK,OAEtBoI,EAAIuC,UAFkB,WAEGJ,GAFHF,IAK5B,OACE3C,EAAAtF,EAAAuF,cAAA,OACE8C,UAAWA,EACX/H,MAAKrC,OAAAmE,EAAA,EAAAnE,CAAA,GACAqC,EADA,CAEHmI,QAAS,OACTC,iBAAkB,MAClBC,oBAAqB,SAGvBrD,EAAAtF,EAAAuF,cAACqD,EAAD,CACEjE,cAAexG,KAAKoI,kBACpBpB,SAAU,aACVE,YAAalH,KAAK+I,gBAClB5G,MAAO,CACLmI,QAAS,OACTC,iBAAkB,MAClBC,oBAAqB,MACrBzG,SAAU,WACVkC,MAAO,OACPP,OAAQ,OACR8B,IAAK,IACLD,KAAM,IACNmD,MAAOV,EAAU,OAAS,kBAzGpBzE,aAAZsC,EACGuC,UAAY,MA0HrBvC,EAAI8C,aAAe,CACjBxB,KAAM,KACNnB,QAAS,KACTK,OAAQ,EACRC,OAAQ,IACRC,MAAO,GACPC,QAAS,EACTS,QAAS,GAGIpB,ICzIAA,EDyIAA,EEvIT+C,mLACK,IAAAnG,EAQHzE,KAAKqB,MANP2G,EAFKvD,EAELuD,QACAK,EAHK5D,EAGL4D,OACAC,EAJK7D,EAIL6D,OACAC,EALK9D,EAKL8D,MACAC,EANK/D,EAML+D,QACAS,EAPKxE,EAOLwE,QAGI4B,EAAY,CAChBC,KAAM,WACNC,SAAU,IACVC,SAAU,UAGNC,EAAiB,CACrBjD,UACAK,UAGI6C,EAAe,CACnB5C,SACAC,QACAC,UACAS,WAGF,OACE9B,EAAAtF,EAAAuF,cAAA,OACE8C,UAAU,WACV/H,MAAO,CACLmI,QAAS,OACTa,SAAU,aACVC,WAAY,UACZC,eAAgB,aAChB3F,OAAQ,OACR+B,WAAY,SAGf,CACC,KACA,MACA,KACA,MACA,KACA,KACA,MACA,KACA,MACA,KACA,MACA,KACA,MACA6D,IAAI,SAAAnC,GAAI,OACRhC,EAAAtF,EAAAuF,cAACmE,EAADzL,OAAA0L,OAAA,CACEC,IAAKtC,EACLA,KAAMA,GACD8B,EACAC,EAJP,CAKE/I,MAAKrC,OAAAmE,EAAA,EAAAnE,CAAA,GAAO+K,gBA7DCtF,aAsEvBsC,EAAI5C,UAAY,CACd+C,QAAS0D,IAAUC,OACnBtD,OAAQqD,IAAUC,OAClBrD,OAAQoD,IAAUC,OAClBpD,MAAOmD,IAAUC,OACjBnD,QAASkD,IAAUC,QAGrB9D,EAAI8C,aAAe,CACjB3C,QAAS,KACTK,OAAQ,EACRC,OAAQ,IACRC,MAAO,IACPC,QAAS,EACTS,QAAS,GAGI2B,ICzFAA,EDyFAA,EECAgB,6MArFbnI,MAAQ,CACN6E,OAAQ,IACRC,MAAO,IACPC,QAAS,EACTS,QAAS,KAGX4C,OAAS,SAACJ,GAAD,OAAS,SAACpF,GACjB,IAAMyF,EAAYC,SAAS1F,EAAM2F,OAAOxC,MAAO,IAC1CyC,MAAMH,IACTjL,EAAKqD,SAALpE,OAAAuK,EAAA,EAAAvK,CAAA,GACG2L,EAAMK,8EAKJ,IAAA9H,EAMHhE,KAAKyD,MAEHyH,EAAe,CACnB5C,OATKtE,EAELsE,OAQAC,MAVKvE,EAGLuE,MAQAC,QAXKxE,EAILwE,QAQAS,QAZKjF,EAKLiF,SAUF,OACE9B,EAAAtF,EAAAuF,cAAA,OACE8C,UAAU,MACV/H,MAAO,CACLmI,QAAS,OACTa,SAAU,gBACVzF,OAAQ,QACRO,MAAO,UAGPkB,EAAAtF,EAAAuF,cAAC8E,EAAA,OAAD,KACI/E,EAAAtF,EAAAuF,cAAA,wBAEJD,EAAAtF,EAAAuF,cAAA,OAAKjF,MAAO,CACV2I,KAAM,WACNqB,UAAW,MAEXhF,EAAAtF,EAAAuF,cAAA,SACEpC,KAAK,SACLoH,YAAY,SACZC,SAAUrM,KAAK6L,OAAO,YAExB1E,EAAAtF,EAAAuF,cAAA,SACEpC,KAAK,SACLoH,YAAY,QACZC,SAAUrM,KAAK6L,OAAO,WAExB1E,EAAAtF,EAAAuF,cAAA,SACEpC,KAAK,SACLoH,YAAY,UACZC,SAAUrM,KAAK6L,OAAO,aAExB1E,EAAAtF,EAAAuF,cAAA,SACEpC,KAAK,SACLoH,YAAY,UACZC,SAAUrM,KAAK6L,OAAO,cAG1B1E,EAAAtF,EAAAuF,cAAA,OAAKjF,MAAO,CACV2I,KAAM,WACNqB,UAAW,IACXnB,SAAU,WAEV7D,EAAAtF,EAAAuF,cAACkF,EAADxM,OAAA0L,OAAA,CACExD,QAAS,KACTK,OAAQ,GACJ6C,aA9EA3F,aCKEgH,QACW,cAA7B9N,OAAO+N,SAASC,UAEe,UAA7BhO,OAAO+N,SAASC,UAEhBhO,OAAO+N,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAOzF,EAAAtF,EAAAuF,cAACyF,EAAD,MAAS/L,SAASgM,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.8eec806d.chunk.js","sourcesContent":["export const noteValues = {\n    'C0': 16.35,\n    'C#0': 17.32,\n    'Db0': 17.32,\n    'D0': 18.35,\n    'D#0': 19.45,\n    'Eb0': 19.45,\n    'E0': 20.60,\n    'F0': 21.83,\n    'F#0': 23.12,\n    'Gb0': 23.12,\n    'G0': 24.50,\n    'G#0': 25.96,\n    'Ab0': 25.96,\n    'A0': 27.50,\n    'A#0': 29.14,\n    'Bb0': 29.14,\n    'B0': 30.87,\n    'C1': 32.70,\n    'C#1': 34.65,\n    'Db1': 34.65,\n    'D1': 36.71,\n    'D#1': 38.89,\n    'Eb1': 38.89,\n    'E1': 41.20,\n    'F1': 43.65,\n    'F#1': 46.25,\n    'Gb1': 46.25,\n    'G1': 49.00,\n    'G#1': 51.91,\n    'Ab1': 51.91,\n    'A1': 55.00,\n    'A#1': 58.27,\n    'Bb1': 58.27,\n    'B1': 61.74,\n    'C2': 65.41,\n    'C#2': 69.30,\n    'Db2': 69.30,\n    'D2': 73.42,\n    'D#2': 77.78,\n    'Eb2': 77.78,\n    'E2': 82.41,\n    'F2': 87.31,\n    'F#2': 92.50,\n    'Gb2': 92.50,\n    'G2': 98.00,\n    'G#2': 103.83,\n    'Ab2': 103.83,\n    'A2': 110.00,\n    'A#2': 116.54,\n    'Bb2': 116.54,\n    'B2': 123.47,\n    'C3': 130.81,\n    'C#3': 138.59,\n    'Db3': 138.59,\n    'D3': 146.83,\n    'D#3': 155.56,\n    'Eb3': 155.56,\n    'E3': 164.81,\n    'F3': 174.61,\n    'F#3': 185.00,\n    'Gb3': 185.00,\n    'G3': 196.00,\n    'G#3': 207.65,\n    'Ab3': 207.65,\n    'A3': 220.00,\n    'A#3': 233.08,\n    'Bb3': 233.08,\n    'B3': 246.94,\n    'C4': 261.63,\n    'C#4': 277.18,\n    'Db4': 277.18,\n    'D4': 293.66,\n    'D#4': 311.13,\n    'Eb4': 311.13,\n    'E4': 329.63,\n    'F4': 349.23,\n    'F#4': 369.99,\n    'Gb4': 369.99,\n    'G4': 392.00,\n    'G#4': 415.30,\n    'Ab4': 415.30,\n    'A4': 440.00,\n    'A#4': 466.16,\n    'Bb4': 466.16,\n    'B4': 493.88,\n    'C5': 523.25,\n    'C#5': 554.37,\n    'Db5': 554.37,\n    'D5': 587.33,\n    'D#5': 622.25,\n    'Eb5': 622.25,\n    'E5': 659.26,\n    'F5': 698.46,\n    'F#5': 739.99,\n    'Gb5': 739.99,\n    'G5': 783.99,\n    'G#5': 830.61,\n    'Ab5': 830.61,\n    'A5': 880.00,\n    'A#5': 932.33,\n    'Bb5': 932.33,\n    'B5': 987.77,\n    'C6': 1046.50,\n    'C#6': 1108.73,\n    'Db6': 1108.73,\n    'D6': 1174.66,\n    'D#6': 1244.51,\n    'Eb6': 1244.51,\n    'E6': 1318.51,\n    'F6': 1396.91,\n    'F#6': 1479.98,\n    'Gb6': 1479.98,\n    'G6': 1567.98,\n    'G#6': 1661.22,\n    'Ab6': 1661.22,\n    'A6': 1760.00,\n    'A#6': 1864.66,\n    'Bb6': 1864.66,\n    'B6': 1975.53,\n    'C7': 2093.00,\n    'C#7': 2217.46,\n    'Db7': 2217.46,\n    'D7': 2349.32,\n    'D#7': 2489.02,\n    'Eb7': 2489.02,\n    'E7': 2637.02,\n    'F7': 2793.83,\n    'F#7': 2959.96,\n    'Gb7': 2959.96,\n    'G7': 3135.96,\n    'G#7': 3322.44,\n    'Ab7': 3322.44,\n    'A7': 3520.00,\n    'A#7': 3729.31,\n    'Bb7': 3729.31,\n    'B7': 3951.07,\n    'C8': 4186.01\n};\n\nexport const notesByOctave = {\n  '0': {\n    'C': 16.35,\n    'C#': 17.32,\n    'Db': 17.32,\n    'D': 18.35,\n    'D#': 19.45,\n    'Eb': 19.45,\n    'E': 20.60,\n    'F': 21.83,\n    'F#': 23.12,\n    'Gb': 23.12,\n    'G': 24.50,\n    'G#': 25.96,\n    'Ab': 25.96,\n    'A': 27.50,\n    'A#': 29.14,\n    'Bb': 29.14,\n    'B': 30.87,\n  },\n  '1': {\n    'C': 32.70,\n    'C#': 34.65,\n    'Db': 34.65,\n    'D': 36.71,\n    'D#': 38.89,\n    'Eb': 38.89,\n    'E': 41.20,\n    'F': 43.65,\n    'F#': 46.25,\n    'Gb': 46.25,\n    'G': 49.00,\n    'G#': 51.91,\n    'Ab': 51.91,\n    'A': 55.00,\n    'A#': 58.27,\n    'Bb': 58.27,\n    'B': 61.74,\n  },\n  '2': {\n    'C': 65.41,\n    'C#': 69.30,\n    'Db': 69.30,\n    'D': 73.42,\n    'D#': 77.78,\n    'Eb': 77.78,\n    'E': 82.41,\n    'F': 87.31,\n    'F#': 92.50,\n    'Gb': 92.50,\n    'G': 98.00,\n    'G#': 103.83,\n    'Ab': 103.83,\n    'A': 110.00,\n    'A#': 116.54,\n    'Bb': 116.54,\n    'B': 123.47,\n  },\n  '3': {\n    'C': 130.81,\n    'C#': 138.59,\n    'Db': 138.59,\n    'D': 146.83,\n    'D#': 155.56,\n    'Eb': 155.56,\n    'E': 164.81,\n    'F': 174.61,\n    'F#': 185.00,\n    'Gb': 185.00,\n    'G': 196.00,\n    'G#': 207.65,\n    'Ab': 207.65,\n    'A': 220.00,\n    'A#': 233.08,\n    'Bb': 233.08,\n    'B': 246.94,\n  },\n  '4': {\n    'C': 261.63,\n    'C#': 277.18,\n    'Db': 277.18,\n    'D': 293.66,\n    'D#': 311.13,\n    'Eb': 311.13,\n    'E': 329.63,\n    'F': 349.23,\n    'F#': 369.99,\n    'Gb': 369.99,\n    'G': 392.00,\n    'G#': 415.30,\n    'Ab': 415.30,\n    'A': 440.00,\n    'A#': 466.16,\n    'Bb': 466.16,\n    'B': 493.88,\n  },\n  '5': {\n    'C': 523.25,\n    'C#': 554.37,\n    'Db': 554.37,\n    'D': 587.33,\n    'D#': 622.25,\n    'Eb': 622.25,\n    'E': 659.26,\n    'F': 698.46,\n    'F#': 739.99,\n    'Gb': 739.99,\n    'G': 783.99,\n    'G#': 830.61,\n    'Ab': 830.61,\n    'A': 880.00,\n    'A#': 932.33,\n    'Bb': 932.33,\n    'B': 987.77,\n  },\n  '6': {\n    'C': 1046.50,\n    'C#': 1108.73,\n    'Db': 1108.73,\n    'D': 1174.66,\n    'D#': 1244.51,\n    'Eb': 1244.51,\n    'E': 1318.51,\n    'F': 1396.91,\n    'F#': 1479.98,\n    'Gb': 1479.98,\n    'G': 1567.98,\n    'G#': 1661.22,\n    'Ab': 1661.22,\n    'A': 1760.00,\n    'A#': 1864.66,\n    'Bb': 1864.66,\n    'B': 1975.53,\n  },\n  '7': {\n    'C': 2093.00,\n    'C#': 2217.46,\n    'Db': 2217.46,\n    'D': 2349.32,\n    'D#': 2489.02,\n    'Eb': 2489.02,\n    'E': 2637.02,\n    'F': 2793.83,\n    'F#': 2959.96,\n    'Gb': 2959.96,\n    'G': 3135.96,\n    'G#': 3322.44,\n    'Ab': 3322.44,\n    'A': 3520.00,\n    'A#': 3729.31,\n    'Bb': 3729.31,\n    'B': 3951.07,\n  },\n  '8': {\n    'C': 4186.01,\n  }\n};\n","import raf from 'raf';\n\nconst extractPosition = callback => (evt, ...args) => {\n  let nativeEvent = evt;\n  if (!(evt instanceof window.Event)) {\n    nativeEvent = evt.nativeEvent;\n  }\n\n  let touchPosition = null;\n  if (nativeEvent.touches && nativeEvent.touches.length) {\n    const touch = nativeEvent.touches[0];\n    touchPosition = { x: touch.clientX, y: touch.clientY };\n  } else if (nativeEvent.clientX && nativeEvent.clientY) {\n    touchPosition = { x: nativeEvent.clientX, y: nativeEvent.clientY };\n  }\n  return callback(touchPosition, evt, ...args);\n};\n\n\nclass TouchHandler {\n  constructor(onTouchStart, onTouchMove, onTouchEnd) {\n    // in the event both touch and click handlers can fire (e.g., chrome device\n    // mode), only add one set of handlers\n    this._listenersAdded = false;\n    this._currentAnimationFrame = null;\n\n    // delegated to callbacks\n    this._onTouchStart = onTouchStart;\n    this._onTouchMove = onTouchMove;\n    this._onTouchEnd = onTouchEnd;\n\n    this._handleTouchStart = extractPosition(this._handleTouchStart.bind(this));\n    this._handleMouseDown = extractPosition(this._handleMouseDown.bind(this));\n\n    this._handleTouchMove = extractPosition(this._handleTouchMove.bind(this));\n    this._handleTouchEnd = extractPosition(this._handleTouchEnd.bind(this));\n  }\n\n  listeners(child, onTouchStart, onMouseDown) {\n    return {\n      onTouchStart: evt => this._handleTouchStart(evt, child, onTouchStart),\n      onMouseDown: evt => this._handleMouseDown(evt, child, onMouseDown),\n    };\n  }\n\n  removeListeners() {\n    this._listenersAdded = false;\n    document.removeEventListener('touchmove', this._handleTouchMove);\n    document.removeEventListener('touchend', this._handleTouchEnd);\n    document.removeEventListener('touchcancel', this._handleTouchEnd);\n    document.removeEventListener('mousemove', this._handleTouchMove);\n    document.removeEventListener('mouseup', this._handleTouchEnd);\n  }\n\n  cancelAnimationFrame() {\n    raf.cancel(this._currentAnimationFrame);\n    this._currentAnimationFrame = null;\n  }\n\n  _addTouchListeners() {\n    this._listenersAdded = true;\n    document.addEventListener('touchmove', this._handleTouchMove);\n    document.addEventListener('touchend', this._handleTouchEnd);\n    document.addEventListener('touchcancel', this._handleTouchEnd);\n  }\n\n  _addMouseListeners() {\n    this._listenersAdded = true;\n    document.addEventListener('mousemove', this._handleTouchMove);\n    document.addEventListener('mouseup', this._handleTouchEnd);\n  }\n\n  _handleTouchStart(touchPosition, synthEvent, child, onTouchStart) {\n    if (this._listenersAdded) return;\n    this._addTouchListeners();\n\n    child.props.onTouchStart && child.props.onTouchStart(synthEvent);\n    onTouchStart && onTouchStart(synthEvent);\n    this._onTouchStart(touchPosition);\n  }\n\n  _handleMouseDown(touchPosition, synthEvent, child, onMouseDown) {\n    if (this._listenersAdded) return;\n    this._addMouseListeners();\n\n    child.props.onMouseDown && child.props.onMouseDown(synthEvent);\n    onMouseDown && onMouseDown(synthEvent);\n    this._onTouchStart(touchPosition);\n  }\n\n  _handleTouchMove(touchPosition) {\n    if (!this._currentAnimationFrame) {\n      this._currentAnimationFrame = raf(() => {\n        this._currentAnimationFrame = null;\n        this._onTouchMove(touchPosition);\n      });\n    }\n  }\n\n  _handleTouchEnd(touchPosition) {\n    this.cancelAnimationFrame();\n    this.removeListeners();\n    this._onTouchEnd(touchPosition);\n  }\n}\n\nexport default TouchHandler;\n","const DIRECTIVES = [\n  ['left', 'dx', add],\n  ['top', 'dy', add],\n  ['bottom', 'dy', subtract],\n  ['right', 'dx', subtract],\n  ['translateX', 'dx', add],\n  ['translateY', 'dy', add],\n];\n\nconst computePositionStyle = (currentStyle, deltas) => {\n  return DIRECTIVES.reduce((style, directive) => {\n    const [name, deltaType, operation] = directive;\n    if (currentStyle[name] !== undefined) {\n      // eslint-disable-next-line no-param-reassign\n      style[name] = operation(currentStyle[name], deltas[deltaType]);\n    }\n    return style;\n  }, {});\n};\n\nfunction add(a, b) {\n  return a + b;\n}\n\nfunction subtract(a, b) {\n  return add(a, -b);\n}\n\n\nexport default computePositionStyle;\n","const computeDeltas = (oldPosition, newPosition) => {\n  const { x: oldX, y: oldY } = oldPosition;\n  const { x: newX, y: newY } = newPosition;\n  return { dx: newX - oldX, dy: newY - oldY };\n};\n\nexport default computeDeltas;\n","import React from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport isFunction from 'lodash/isFunction';\n\nimport TouchHandler from './TouchHandler';\nimport computePositionStyle from './computePositionStyle.js';\nimport computeDeltas from './computeDeltas.js';\n\n\nconst ZERO_DELTAS = { dx: 0, dy: 0 };\nconst DEFAULT_TOUCH = { initial: null, current: null, deltas: ZERO_DELTAS };\n\n\nclass Draggable extends React.Component {\n\n  static propTypes = {\n    children: T.oneOfType([T.func, T.element]).isRequired,\n    position: T.objectOf(T.oneOfType([T.number, T.object])).isRequired,\n    onMouseDown: T.func,\n    onTouchStart: T.func,\n    onDrag: T.func,\n    onDragEnd: T.func,\n    __passThrough: T.object,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = DEFAULT_TOUCH;\n    this._touchHandler = new TouchHandler(\n      this.handleTouchStart.bind(this),\n      this.handleTouchMove.bind(this),\n      this.handleTouchEnd.bind(this),\n    );\n  }\n\n  passThroughState() {\n    const { position } = this.props;\n    const { deltas, current: touchPosition } = this.state;\n    const current = computePositionStyle(position, deltas);\n    return { ...current, ...deltas, ...touchPosition };\n  }\n\n  handleTouchStart(touchPosition) {\n    this.setState({ initial: touchPosition, current: touchPosition });\n  }\n\n  handleTouchMove(touchPosition) {\n    const { deltas, current } = this.state;\n    const touchDeltas = computeDeltas(current, touchPosition);\n    const componentPosition = computePositionStyle(this.props.position, touchDeltas);\n    this.props.onDrag && this.props.onDrag({ ...componentPosition, ...current });\n\n    const latest = {dx: deltas.dx + touchDeltas.dx, dy: deltas.dy + touchDeltas.dy};\n    this.setState({ deltas: latest, current: touchPosition });\n  }\n\n  handleTouchEnd() {\n    this.props.onDragEnd && this.props.onDragEnd();\n  }\n\n  render() {\n    const { onTouchStart, onMouseDown, children, __passThrough } = this.props;\n    const passThrough = { ...__passThrough, ...this.passThroughState() };\n    const child = isFunction(children) ? children({ ...passThrough }) : children;\n    const props = {\n      ...this._touchHandler.listeners(child, onTouchStart, onMouseDown),\n    };\n\n    if (child.type.propTypes && child.type.propTypes.hasOwnProperty('__passThrough')) {\n      props.__passThrough = passThrough;\n    }\n\n    return React.cloneElement(React.Children.only(child), props);\n  }\n}\n\nexport default Draggable;\n","import Strikeable from './Strikeable.js';\n\nexport default Strikeable;\n","import React, { Component } from 'react';\n\nimport Draggable from '../Draggable.js';\n\nclass StrikeableDraggable extends Component {\n  state = {\n    dragging: false,\n    height: null,\n    initialTouchX: null,\n    initialTouchY: null,\n    parentX: null,\n    parentY: null,\n    touchX: null,\n    touchY: null,\n    width: null,\n  }\n\n  DraggableParent = React.createRef();\n\n  handleMouseDown = (event) => {\n    console.log('handleMouseDown');\n\n    const { onStrikeStart } = this.props;\n\n    if (this.DraggableParent.current) {\n      const {\n        offsetWidth: width,\n        offsetHeight: height,\n        offsetLeft: parentX,\n        offsetTop: parentY,\n      } = this.DraggableParent.current;\n\n      const touchOffsetX = event.clientX;\n      const touchOffsetY = event.clientY;\n      const touchX = (touchOffsetX - parentX) / width;\n      const touchY = (touchOffsetY - parentY) / height;\n\n      this.setState({\n        dragging: true,\n        height,\n        initialTouchX: touchX,\n        initialTouchY: touchY,\n        parentX,\n        parentY,\n        touchX: touchX,\n        touchY: touchY,\n        width,\n        lastEvent: 'handleMouseDown',\n      });\n\n      onStrikeStart && onStrikeStart({ touchY });\n    }\n  }\n\n  handleTouchStart = (event) => {\n    console.log('handleTouchStart');\n\n    const { onStrikeStart } = this.props;\n\n    this.setState({\n      lastEvent: 'handleTouchStart',\n    });\n\n    onStrikeStart && onStrikeStart();\n  }\n\n  handleDrag = (event) => {\n    console.log('handleDrag');\n\n    const { onStrike } = this.props;\n\n    const {\n      dragging,\n      height,\n      parentX,\n      parentY,\n      width,\n    } = this.state;\n\n    if (dragging) {\n      const touchOffsetX = event.x;\n      const touchOffsetY = event.y;\n      const touchX = (touchOffsetX - parentX) / width;\n      const touchY = (touchOffsetY - parentY) / height;\n\n      if (touchX < 0 || touchX > 1 || touchY < 0 || touchY > 1) {\n        this.setState({\n          dragging: false,\n        });\n\n        this.handleDragEnd();\n\n        return;\n      }\n\n      this.setState({\n        touchX: touchX,\n        touchY: touchY,\n        lastEvent: 'handleDrag',\n      });\n\n      onStrike && onStrike({ touchY });\n    }\n  }\n\n  handleDragEnd = () => {\n    console.log('handleDragEnd');\n\n    const { onStrikeEnd } = this.props;\n\n    this.setState({\n      dragging: false,\n      lastEvent: 'handleDragEnd',\n    });\n\n    onStrikeEnd && onStrikeEnd();\n  }\n\n  render() {\n    const { style } = this.props;\n\n    return (\n      <div\n        ref={this.DraggableParent}\n        style={{\n          position: 'relative',\n          ...style,\n        }}\n      >\n        <Draggable\n          onMouseDown={this.handleMouseDown}\n          onTouchStart={this.handleTouchStart}\n          onDrag={this.handleDrag}\n          onDragEnd={this.handleDragEnd}\n          position={{\n            left: 0,\n            top: 0,\n          }}\n        >\n          {(event) => (\n            <div>\n              <div style={{\n                userSelect: 'none',\n                textShadow: '0 1px 0 rgba(255, 255, 255, 0.5)',\n                fontSize: '11px',\n                wordWrap: 'break-word',\n                position: 'absolute',\n                width: '100%',\n                height: '100%',\n              }}>\n                Drag me\n                <br />\n                X: {this.state.touchX}\n                <br />\n                Y: {this.state.touchY}\n                <br />\n                Last event: {this.state.lastEvent}\n              </div>\n              <div\n                style={{\n                  ...style,\n                  position: 'absolute',\n                  width: '100%',\n                  height: '100%',\n                  top: '0',\n                  left: '0',\n                }}\n              />\n            </div>\n          )}\n        </Draggable>\n      </div>\n    );\n  }\n}\n\nexport default StrikeableDraggable;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { noteValues } from './notes';\nimport Strikeable from '../Strikeable';\n\nclass Key extends Component {\n  static baseClass = 'Key'\n\n  state = {\n    playing: false,\n    nextVolume: this.props.volMute,\n    context: (window.AudioContext && new window.AudioContext()) || (window.webkitAudioContext && new window.webkitAudioContext()) || null,\n  }\n\n  componentDidMount() {\n    const {\n      note,\n      volMute,\n    } = this.props;\n\n    const { context } = this.state;\n    this.gainNode = context.createGain()\n    this.oscillator = context.createOscillator()\n    this.oscillator.type = 'sine';\n    this.oscillator.frequency.value = noteValues[note];\n    this.oscillator.start(0);\n    this.gainNode.gain.setValueAtTime(volMute, context.currentTime);\n    this.oscillator.connect(this.gainNode);\n    this.gainNode.connect(context.destination);\n    this.nextGain = null;\n  }\n\n  handleStrikeStart = (event) => {\n    const {\n      volMax,\n      volMute,\n      attack,\n      decay,\n      sustain\n    } = this.props;\n\n    const { context } = this.state;\n    this.gainNode.gain.cancelScheduledValues(context.currentTime);\n    setTimeout(() => {\n      this.gainNode.gain.exponentialRampToValueAtTime(volMax * event.touchY * 0.8 + 0.2, context.currentTime + attack);\n      setTimeout(() => {\n        console.log({ currentTime: context.currentTime, decay });\n        this.gainNode.gain.exponentialRampToValueAtTime(volMax * event.touchY * 0.8 * 0.5 + 0.2, context.currentTime + decay);\n        setTimeout(() => {\n          this.gainNode.gain.exponentialRampToValueAtTime(volMute, context.currentTime + sustain);\n        });\n      });\n    });\n    // this.gainNode.gain.exponentialRampToValueAtTime(volMax * event.touchY * 0.8 + 0.2, context.currentTime + attack);\n    // this.gainNode.gain.exponentialRampToValueAtTime(volMute, context.currentTime + sustain);\n    this.setState({ playing: true });\n  }\n\n  handleStrikeEnd = () => {\n    const {\n      volMute,\n      release,\n    } = this.props;\n\n    console.log('handleStrikeEnd');\n    const { context } = this.state;\n    this.gainNode.gain.cancelScheduledValues(context.currentTime);\n    setTimeout(() => this.gainNode.gain.exponentialRampToValueAtTime(volMute, context.currentTime + release));\n    // this.gainNode.gain.exponentialRampToValueAtTime(volMute, context.currentTime + release);\n    this.setState({ playing: false });\n  }\n\n  render() {\n    const {\n      note,\n      style,\n    } = this.props;\n\n    const { playing } = this.state;\n\n    const isBlack = note.indexOf('#') >= 0 || note.indexOf('b') >= 0;\n\n    const className = classNames(Key.baseClass, {\n      [`${Key.baseClass}--active`]: playing,\n      [`${Key.baseClass}--black`]: isBlack,\n    });\n\n    return (\n      <div\n        className={className}\n        style={{\n          ...style,\n          display: 'grid',\n          gridTemplateRows: '1fr',\n          gridTemplateColumns: '1fr',\n        }}\n      >\n        <Strikeable\n          onStrikeStart={this.handleStrikeStart}\n          onStrike={() => {}}\n          onStrikeEnd={this.handleStrikeEnd}\n          style={{\n            display: 'grid',\n            gridTemplateRows: '1fr',\n            gridTemplateColumns: '1fr',\n            position: 'absolute',\n            width: '100%',\n            height: '100%',\n            top: '0',\n            left: '0',\n            color: isBlack ? '#444' : '#ccc',\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nKey.propTypes = {\n  note: PropTypes.string,\n  volMute: PropTypes.number,\n  volMax: PropTypes.number,\n  attack: PropTypes.number,\n  decay: PropTypes.number,\n  sustain: PropTypes.number,\n  release: PropTypes.number,\n};\n\nKey.defaultProps = {\n  note: 'C4',\n  volMute: 0.0001,\n  volMax: 1,\n  attack: 0.03,\n  decay: 0.1,\n  sustain: 2,\n  release: 1,\n};\n\nexport default Key;\n","import './Key.css';\nimport Key from './Key.js';\n\nexport default Key;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Key from '../Key';\n\nclass KeyBoard extends Component {\n  render() {\n    const {\n      volMute,\n      volMax,\n      attack,\n      decay,\n      sustain,\n      release,\n    } = this.props;\n\n    const keySizing = {\n      flex: '1 1 auto',\n      minWidth: '0',\n      overflow: 'hidden',\n    };\n\n    const keyVolumeProps = {\n      volMute,\n      volMax,\n    };\n\n    const keyADSRProps = {\n      attack,\n      decay,\n      sustain,\n      release,\n    };\n\n    return (\n      <div\n        className=\"KeyBoard\"\n        style={{\n          display: 'flex',\n          flexFlow: 'row nowrap',\n          alignItems: 'stretch',\n          justifyContent: 'flex-start',\n          height: '90vh',\n          userSelect: 'none',\n        }}\n      >\n      {[\n        'C4',\n        'C#4',\n        'D4',\n        'D#4',\n        'E4',\n        'F4',\n        'F#4',\n        'G4',\n        'G#4',\n        'A4',\n        'A#4',\n        'B4',\n        'C5',\n      ].map(note => (\n        <Key\n          key={note}\n          note={note}\n          { ...keyVolumeProps }\n          { ...keyADSRProps }\n          style={{ ...keySizing }}\n        />\n      ))}\n      </div>\n    );\n  }\n}\n\n\nKey.propTypes = {\n  volMute: PropTypes.number,\n  volMax: PropTypes.number,\n  attack: PropTypes.number,\n  decay: PropTypes.number,\n  sustain: PropTypes.number,\n};\n\nKey.defaultProps = {\n  volMute: 0.0001,\n  volMax: 1,\n  attack: 0.03,\n  decay: 0.03,\n  sustain: 2,\n  release: 1,\n};\n\nexport default KeyBoard;\n","import './KeyBoard.css';\nimport KeyBoard from './KeyBoard.js';\n\nexport default KeyBoard;\n","import React, { Component } from 'react';\nimport { Helmet } from 'react-helmet';\nimport './App.css';\n\n// import Key from '../Key';\nimport KeyBoard from './KeyBoard';\n\nclass App extends Component {\n  state = {\n    attack: 0.05,\n    decay: 0.05,\n    sustain: 3,\n    release: 1,\n  }\n\n  update = (key) => (event) => {\n    const nextValue = parseInt(event.target.value, 10);\n    if (!isNaN(nextValue)) {\n      this.setState({\n        [key]: nextValue,\n      });\n    }\n  }\n\n  render() {\n    const {\n      attack,\n      decay,\n      sustain,\n      release,\n    } = this.state;\n\n    const keyADSRProps = {\n      attack,\n      decay,\n      sustain,\n      release,\n    };\n\n    return (\n      <div\n        className=\"App\"\n        style={{\n          display: 'flex',\n          flexFlow: 'column nowrap',\n          height: '100vh',\n          width: '100vw',\n        }}\n      >\n          <Helmet>\n              <title>Musico</title>\n          </Helmet>\n          <div style={{\n            flex: '0 0 10vw',\n            minHeight: '0',\n          }}>\n            <input\n              type=\"number\"\n              placeholder=\"Attack\"\n              onChange={this.update('attack')}\n            />\n            <input\n              type=\"number\"\n              placeholder=\"Decay\"\n              onChange={this.update('decay')}\n            />\n            <input\n              type=\"number\"\n              placeholder=\"Sustain\"\n              onChange={this.update('sustain')}\n            />\n            <input\n              type=\"number\"\n              placeholder=\"Release\"\n              onChange={this.update('release')}\n            />\n          </div>\n          <div style={{\n            flex: '1 1 auto',\n            minHeight: '0',\n            overflow: 'hidden',\n          }}>\n            <KeyBoard\n              volMute={0.0001}\n              volMax={1}\n              {...keyADSRProps}\n            />\n          </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}