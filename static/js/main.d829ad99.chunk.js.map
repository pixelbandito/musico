{"version":3,"sources":["Key/notes.js","TouchHandler.js","computePositionStyle.js","computeDeltas.js","Draggable.js","Strikeable/index.js","Strikeable/Strikeable.js","Key/Key.js","Key/index.js","KeyBoard/KeyBoard.js","KeyBoard/index.js","App.js","serviceWorker.js","index.js"],"names":["noteValues","C0","C#0","Db0","D0","D#0","Eb0","E0","F0","F#0","Gb0","G0","G#0","Ab0","A0","A#0","Bb0","B0","C1","C#1","Db1","D1","D#1","Eb1","E1","F1","F#1","Gb1","G1","G#1","Ab1","A1","A#1","Bb1","B1","C2","C#2","Db2","D2","D#2","Eb2","E2","F2","F#2","Gb2","G2","G#2","Ab2","A2","A#2","Bb2","B2","C3","C#3","Db3","D3","D#3","Eb3","E3","F3","F#3","Gb3","G3","G#3","Ab3","A3","A#3","Bb3","B3","C4","C#4","Db4","D4","D#4","Eb4","E4","F4","F#4","Gb4","G4","G#4","Ab4","A4","A#4","Bb4","B4","C5","C#5","Db5","D5","D#5","Eb5","E5","F5","F#5","Gb5","G5","G#5","Ab5","A5","A#5","Bb5","B5","C6","C#6","Db6","D6","D#6","Eb6","E6","F6","F#6","Gb6","G6","G#6","Ab6","A6","A#6","Bb6","B6","C7","C#7","Db7","D7","D#7","Eb7","E7","F7","F#7","Gb7","G7","G#7","Ab7","A7","A#7","Bb7","B7","C8","extractPosition","callback","evt","nativeEvent","window","Event","touchPosition","touches","length","touch","x","clientX","y","clientY","_len","arguments","args","Array","_key","apply","concat","TouchHandler","onTouchStart","onTouchMove","onTouchEnd","Object","classCallCheck","this","_listenersAdded","_currentAnimationFrame","_onTouchStart","_onTouchMove","_onTouchEnd","_handleTouchStart","bind","_handleMouseDown","_handleTouchMove","_handleTouchEnd","child","onMouseDown","_this","document","removeEventListener","raf","cancel","addEventListener","synthEvent","_addTouchListeners","props","_addMouseListeners","event","_this2","cancelAnimationFrame","removeListeners","DIRECTIVES","add","subtract","a","b","computePositionStyle","currentStyle","deltas","reduce","style","directive","_directive","slicedToArray","name","deltaType","operation","undefined","computeDeltas","oldPosition","newPosition","oldX","oldY","dx","dy","DEFAULT_TOUCH","initial","current","Draggable","possibleConstructorReturn","getPrototypeOf","call","state","_touchHandler","handleTouchStart","assertThisInitialized","handleTouchMove","handleTouchEnd","position","_this$state","objectSpread","setState","_this$state2","touchDeltas","componentPosition","onDrag","latest","onDragEnd","_this$props","children","__passThrough","passThrough","passThroughState","isFunction","listeners","type","propTypes","hasOwnProperty","React","cloneElement","Children","only","Component","Strikeable","dragging","height","initialTouchX","initialTouchY","parentX","parentY","touchX","touchY","width","DraggableParent","createRef","handleMouseDown","onStrikeStart","_this$DraggableParent","offsetWidth","offsetHeight","offsetLeft","offsetTop","lastEvent","_this$DraggableParent2","toConsumableArray","pop","handleDrag","contains","target","handleDragEnd","onStrikeEnd","react_default","createElement","ref","src_Draggable","left","top","Key","started","playing","nextVolume","volMute","context","AudioContext","webkitAudioContext","handleStrikeStart","volMax","attack","decay","decayLevel","sustain","oscillator","start","currentValue","gainNode","gain","value","volAttackTarget","volDecayTarget","cancelScheduledValues","currentTime","setValueAtTime","exponentialRampToValueAtTime","handleStrikeEnd","_this$props2","release","_this$props3","note","createGain","createOscillator","frequency","connect","destination","nextGain","_classNames","_this$props4","isBlack","indexOf","className","classNames","baseClass","defineProperty","display","gridTemplateRows","gridTemplateColumns","src_Strikeable","onStrike","color","defaultProps","KeyBoard","keySizing","flex","minWidth","overflow","keyVolumeProps","keyADSRProps","flexFlow","alignItems","justifyContent","minHeight","userSelect","map","src_Key","assign","key","PropTypes","number","App","update","nextValue","parseInt","isNaN","Helmet","placeholder","onChange","src_KeyBoard","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"qXAAaA,EAAa,CACtBC,GAAM,MACNC,MAAO,MACPC,IAAO,MACPC,GAAM,MACNC,MAAO,MACPC,IAAO,MACPC,GAAM,KACNC,GAAM,MACNC,MAAO,MACPC,IAAO,MACPC,GAAM,KACNC,MAAO,MACPC,IAAO,MACPC,GAAM,KACNC,MAAO,MACPC,IAAO,MACPC,GAAM,MACNC,GAAM,KACNC,MAAO,MACPC,IAAO,MACPC,GAAM,MACNC,MAAO,MACPC,IAAO,MACPC,GAAM,KACNC,GAAM,MACNC,MAAO,MACPC,IAAO,MACPC,GAAM,GACNC,MAAO,MACPC,IAAO,MACPC,GAAM,GACNC,MAAO,MACPC,IAAO,MACPC,GAAM,MACNC,GAAM,MACNC,MAAO,KACPC,IAAO,KACPC,GAAM,MACNC,MAAO,MACPC,IAAO,MACPC,GAAM,MACNC,GAAM,MACNC,MAAO,KACPC,IAAO,KACPC,GAAM,GACNC,MAAO,OACPC,IAAO,OACPC,GAAM,IACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,GAAM,OACNC,MAAO,IACPC,IAAO,IACPC,GAAM,IACNC,MAAO,OACPC,IAAO,OACPC,GAAM,IACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,IACNC,MAAO,MACPC,IAAO,MACPC,GAAM,IACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,MAAO,OACPC,IAAO,OACPC,GAAM,IACNC,MAAO,OACPC,IAAO,OACPC,GAAM,OACNC,GAAM,OACNC,MAAO,QACPC,IAAO,QACPC,GAAM,QACNC,MAAO,QACPC,IAAO,QACPC,GAAM,QACNC,GAAM,QACNC,MAAO,QACPC,IAAO,QACPC,GAAM,QACNC,MAAO,QACPC,IAAO,QACPC,GAAM,KACNC,MAAO,QACPC,IAAO,QACPC,GAAM,QACNC,GAAM,KACNC,MAAO,QACPC,IAAO,QACPC,GAAM,QACNC,MAAO,QACPC,IAAO,QACPC,GAAM,QACNC,GAAM,QACNC,MAAO,QACPC,IAAO,QACPC,GAAM,QACNC,MAAO,QACPC,IAAO,QACPC,GAAM,KACNC,MAAO,QACPC,IAAO,QACPC,GAAM,QACNC,GAAM,0DCvIJC,EAAkB,SAAAC,GAAQ,OAAI,SAACC,GACnC,IAAIC,EAAcD,EACZA,aAAeE,OAAOC,QAC1BF,EAAcD,EAAIC,aAGpB,IAAIG,EAAgB,KACpB,GAAIH,EAAYI,SAAWJ,EAAYI,QAAQC,OAAQ,CACrD,IAAMC,EAAQN,EAAYI,QAAQ,GAClCD,EAAgB,CAAEI,EAAGD,EAAME,QAASC,EAAGH,EAAMI,cACpCV,EAAYQ,SAAWR,EAAYU,UAC5CP,EAAgB,CAAEI,EAAGP,EAAYQ,QAASC,EAAGT,EAAYU,UAXP,QAAAC,EAAAC,UAAAP,OAATQ,EAAS,IAAAC,MAAAH,EAAA,EAAAA,EAAA,KAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAATF,EAASE,EAAA,GAAAH,UAAAG,GAapD,OAAOjB,EAAQkB,WAAR,GAASb,EAAeJ,GAAxBkB,OAAgCJ,MA2F1BK,aAtFb,SAAAA,EAAYC,EAAcC,EAAaC,GAAaC,OAAAC,EAAA,EAAAD,CAAAE,KAAAN,GAGlDM,KAAKC,iBAAkB,EACvBD,KAAKE,uBAAyB,KAG9BF,KAAKG,cAAgBR,EACrBK,KAAKI,aAAeR,EACpBI,KAAKK,YAAcR,EAEnBG,KAAKM,kBAAoBjC,EAAgB2B,KAAKM,kBAAkBC,KAAKP,OACrEA,KAAKQ,iBAAmBnC,EAAgB2B,KAAKQ,iBAAiBD,KAAKP,OAEnEA,KAAKS,iBAAmBpC,EAAgB2B,KAAKS,iBAAiBF,KAAKP,OACnEA,KAAKU,gBAAkBrC,EAAgB2B,KAAKU,gBAAgBH,KAAKP,6DAGzDW,EAAOhB,EAAciB,GAAa,IAAAC,EAAAb,KAC1C,MAAO,CACLL,aAAc,SAAApB,GAAG,OAAIsC,EAAKP,kBAAkB/B,EAAKoC,EAAOhB,IACxDiB,YAAa,SAAArC,GAAG,OAAIsC,EAAKL,iBAAiBjC,EAAKoC,EAAOC,+CAKxDZ,KAAKC,iBAAkB,EACvBa,SAASC,oBAAoB,YAAaf,KAAKS,kBAC/CK,SAASC,oBAAoB,WAAYf,KAAKU,iBAC9CI,SAASC,oBAAoB,cAAef,KAAKU,iBACjDI,SAASC,oBAAoB,YAAaf,KAAKS,kBAC/CK,SAASC,oBAAoB,UAAWf,KAAKU,gEAI7CM,IAAIC,OAAOjB,KAAKE,wBAChBF,KAAKE,uBAAyB,kDAI9BF,KAAKC,iBAAkB,EACvBa,SAASI,iBAAiB,YAAalB,KAAKS,kBAC5CK,SAASI,iBAAiB,WAAYlB,KAAKU,iBAC3CI,SAASI,iBAAiB,cAAelB,KAAKU,8DAI9CV,KAAKC,iBAAkB,EACvBa,SAASI,iBAAiB,YAAalB,KAAKS,kBAC5CK,SAASI,iBAAiB,UAAWlB,KAAKU,2DAG1B/B,EAAewC,EAAYR,EAAOhB,GAC9CK,KAAKC,kBACTD,KAAKoB,qBAELT,EAAMU,MAAM1B,cAAgBgB,EAAMU,MAAM1B,aAAawB,GACrDxB,GAAgBA,EAAawB,GAC7BnB,KAAKG,cAAcxB,EAAewC,6CAGnBxC,EAAewC,EAAYR,EAAOC,GAC7CZ,KAAKC,kBACTD,KAAKsB,qBAELX,EAAMU,MAAMT,aAAeD,EAAMU,MAAMT,YAAYO,GACnDP,GAAeA,EAAYO,GAC3BnB,KAAKG,cAAcxB,EAAewC,6CAGnBxC,EAAe4C,GAAO,IAAAC,EAAAxB,KAChCA,KAAKE,yBACRF,KAAKE,uBAAyBc,IAAI,WAChCQ,EAAKtB,uBAAyB,KAC9BsB,EAAKpB,aAAazB,EAAe4C,8CAKvB5C,EAAe4C,GAC7BvB,KAAKyB,uBACLzB,KAAK0B,kBACL1B,KAAKK,YAAY1B,EAAe4C,oBCtG9BI,EAAa,CACjB,CAAC,OAAQ,KAAMC,GACf,CAAC,MAAO,KAAMA,GACd,CAAC,SAAU,KAAMC,GACjB,CAAC,QAAS,KAAMA,GAChB,CAAC,aAAc,KAAMD,GACrB,CAAC,aAAc,KAAMA,IAcvB,SAASA,EAAIE,EAAGC,GACd,OAAOD,EAAIC,EAGb,SAASF,EAASC,EAAGC,GACnB,OAAOH,EAAIE,GAAIC,GAIFC,MApBc,SAACC,EAAcC,GAC1C,OAAOP,EAAWQ,OAAO,SAACC,EAAOC,GAAc,IAAAC,EAAAxC,OAAAyC,EAAA,EAAAzC,CACRuC,EADQ,GACtCG,EADsCF,EAAA,GAChCG,EADgCH,EAAA,GACrBI,EADqBJ,EAAA,GAM7C,YAJ2BK,IAAvBV,EAAaO,KAEfJ,EAAMI,GAAQE,EAAUT,EAAaO,GAAON,EAAOO,KAE9CL,GACN,KCXUQ,EANO,SAACC,EAAaC,GAAgB,IACvCC,EAAkBF,EAArB9D,EAAYiE,EAASH,EAAZ5D,EAEjB,MAAO,CAAEgE,GADoBH,EAArB/D,EACYgE,EAAMG,GADGJ,EAAZ7D,EACoB+D,ICOjCG,EAAgB,CAAEC,QAAS,KAAMC,QAAS,KAAMnB,OADlC,CAAEe,GAAI,EAAGC,GAAI,IAmElBI,cAnDb,SAAAA,EAAYjC,GAAO,IAAAR,EAAA,OAAAf,OAAAC,EAAA,EAAAD,CAAAE,KAAAsD,IACjBzC,EAAAf,OAAAyD,EAAA,EAAAzD,CAAAE,KAAAF,OAAA0D,EAAA,EAAA1D,CAAAwD,GAAAG,KAAAzD,KAAMqB,KACDqC,MAAQP,EACbtC,EAAK8C,cAAgB,IAAIjE,EACvBmB,EAAK+C,iBAAiBrD,KAAtBT,OAAA+D,EAAA,EAAA/D,QAAA+D,EAAA,EAAA/D,CAAAe,KACAA,EAAKiD,gBAAgBvD,KAArBT,OAAA+D,EAAA,EAAA/D,QAAA+D,EAAA,EAAA/D,CAAAe,KACAA,EAAKkD,eAAexD,KAApBT,OAAA+D,EAAA,EAAA/D,QAAA+D,EAAA,EAAA/D,CAAAe,MANeA,kFAUA,IACTmD,EAAahE,KAAKqB,MAAlB2C,SADSC,EAE0BjE,KAAK0D,MAAxCxB,EAFS+B,EAET/B,OAAiBvD,EAFRsF,EAEDZ,QACVA,EAAUrB,EAAqBgC,EAAU9B,GAC/C,OAAOpC,OAAAoE,EAAA,EAAApE,CAAA,GAAKuD,EAAYnB,EAAWvD,4CAGpBA,GACfqB,KAAKmE,SAAS,CAAEf,QAASzE,EAAe0E,QAAS1E,4CAGnCA,EAAe4C,GAAO,IAAA6C,EACRpE,KAAK0D,MAAzBxB,EAD4BkC,EAC5BlC,OAAQmB,EADoBe,EACpBf,QACVgB,EAAczB,EAAcS,EAAS1E,GACrC2F,EAAoBtC,EAAqBhC,KAAKqB,MAAM2C,SAAUK,GACpErE,KAAKqB,MAAMkD,QAAUvE,KAAKqB,MAAMkD,OAAXzE,OAAAoE,EAAA,EAAApE,CAAA,GAAuBwE,EAAsBjB,GAAW9B,GAE7E,IAAMiD,EAAS,CAACvB,GAAIf,EAAOe,GAAKoB,EAAYpB,GAAIC,GAAIhB,EAAOgB,GAAKmB,EAAYnB,IAC5ElD,KAAKmE,SAAS,CAAEjC,OAAQsC,EAAQnB,QAAS1E,6CAIzCqB,KAAKqB,MAAMoD,WAAazE,KAAKqB,MAAMoD,6CAG5B,IAAAC,EACwD1E,KAAKqB,MAA5D1B,EADD+E,EACC/E,aAAciB,EADf8D,EACe9D,YAAa+D,EAD5BD,EAC4BC,SAAUC,EADtCF,EACsCE,cACvCC,EAAW/E,OAAAoE,EAAA,EAAApE,CAAA,GAAQ8E,EAAkB5E,KAAK8E,oBAC1CnE,EAAQoE,IAAWJ,GAAYA,EAAS7E,OAAAoE,EAAA,EAAApE,CAAA,GAAK+E,IAAiBF,EAC9DtD,EAAKvB,OAAAoE,EAAA,EAAApE,CAAA,GACNE,KAAK2D,cAAcqB,UAAUrE,EAAOhB,EAAciB,IAOvD,OAJID,EAAMsE,KAAKC,WAAavE,EAAMsE,KAAKC,UAAUC,eAAe,mBAC9D9D,EAAMuD,cAAgBC,GAGjBO,IAAMC,aAAaD,IAAME,SAASC,KAAK5E,GAAQU,UA3DlC+D,IAAMI,WCXfC,6MCGb/B,MAAQ,CACNgC,UAAU,EACVC,OAAQ,KACRC,cAAe,KACfC,cAAe,KACfC,QAAS,KACTC,QAAS,KACTC,OAAQ,KACRC,OAAQ,KACRC,MAAO,QAGTC,gBAAkBf,IAAMgB,cAExBC,gBAAkB,SAAC9E,GAAU,IACnB+E,EAAkBzF,EAAKQ,MAAvBiF,cAER,GAAIzF,EAAKsF,gBAAgB9C,QAAS,KAAAkD,EAM5B1F,EAAKsF,gBAAgB9C,QAJV6C,EAFiBK,EAE9BC,YACcb,EAHgBY,EAG9BE,aACYX,EAJkBS,EAI9BG,WACWX,EALmBQ,EAK9BI,UAKIX,GAFezE,EAAMvC,QAEI8G,GAAWI,EACpCD,GAFe1E,EAAMrC,QAEI6G,GAAWJ,EAE1C9E,EAAKsD,SAAS,CACZuB,UAAU,EACVC,SACAC,cAAeI,EACfH,cAAeI,EACfH,UACAC,UACAC,OAAQA,EACRC,OAAQA,EACRC,QACAU,UAAW,oBAGbN,GAAiBA,EAAc,CAAEL,eAIrCrC,iBAAmB,SAACrC,GAAU,IACpB+E,EAAkBzF,EAAKQ,MAAvBiF,cAMR,IAJK/E,EAAM3C,SAAW2C,EAAM3C,QAAQC,OAIhCgC,EAAKsF,gBAAgB9C,QAAS,KAAAwD,EAM5BhG,EAAKsF,gBAAgB9C,QAJV6C,EAFiBW,EAE9BL,YACcb,EAHgBkB,EAG9BJ,aACYX,EAJkBe,EAI9BH,WACWX,EALmBc,EAK9BF,UAGI7H,EAAQgB,OAAAgH,EAAA,EAAAhH,CAAIyB,EAAM3C,SAASmI,OAAS,GAGpCf,GAFelH,EAAME,QAEI8G,GAAWI,EACpCD,GAFenH,EAAMI,QAEI6G,GAAWJ,EAE1C9E,EAAKsD,SAAS,CACZuB,UAAU,EACVC,SACAC,cAAeI,EACfH,cAAeI,EACfH,UACAC,UACAC,OAAQA,EACRC,OAAQA,EACRC,QACAU,UAAW,qBAGbN,GAAiBA,EAAc,CAAEL,eAIrCe,WAAa,SAACzF,EAAO/C,GAAgB,IAAAyF,EAS/BpD,EAAK6C,MALPgC,EAJiCzB,EAIjCyB,SACAC,EALiC1B,EAKjC0B,OACAG,EANiC7B,EAMjC6B,QACAC,EAPiC9B,EAOjC8B,QACAG,EARiCjC,EAQjCiC,MAGF,GAAKR,GAAa7E,EAAKsF,gBAAgB9C,SAAYxC,EAAKsF,gBAAgB9C,QAAQ4D,SAASzI,EAAY0I,QAArG,CAIA,IAEMlB,GAFezE,EAAMxC,EAEI+G,GAAWI,EACpCD,GAFe1E,EAAMtC,EAEI8G,GAAWJ,EAE1C,OAAIK,EAAS,GAAKA,EAAS,GAAKC,EAAS,GAAKA,EAAS,GACrDpF,EAAKsD,SAAS,CACZuB,UAAU,SAGZ7E,EAAKsG,sBALP,MAmBFA,cAAgB,WAAM,IACZC,EAAgBvG,EAAKQ,MAArB+F,YAERvG,EAAKsD,SAAS,CACZuB,UAAU,EACVkB,UAAW,kBAGbQ,GAAeA,6EAGR,IACChF,EAAUpC,KAAKqB,MAAfe,MAER,OACEiF,EAAAvF,EAAAwF,cAAA,OACEC,IAAKvH,KAAKmG,gBACV/D,MAAKtC,OAAAoE,EAAA,EAAApE,CAAA,CACHkE,SAAU,YACP5B,IAGLiF,EAAAvF,EAAAwF,cAACE,EAAD,CACE5G,YAAaZ,KAAKqG,gBAClB1G,aAAcK,KAAK4D,iBACnBW,OAAQvE,KAAKgH,WACbvC,UAAWzE,KAAKmH,cAChBnD,SAAU,CACRyD,KAAM,EACNC,IAAK,IAGN,SAACnG,GAAD,OACC8F,EAAAvF,EAAAwF,cAAA,WAoBED,EAAAvF,EAAAwF,cAAA,OACElF,MAAKtC,OAAAoE,EAAA,EAAApE,CAAA,GACAsC,EADA,CAEH4B,SAAU,WACVkC,MAAO,OACPP,OAAQ,OACR+B,IAAK,IACLD,KAAM,mBAzLUjC,aCG5BmC,6MAGJjE,MAAQ,CACNkE,SAAS,EACTC,SAAS,EACTC,WAAYjH,EAAKQ,MAAM0G,QACvBC,QAASnH,EAAKQ,MAAM2G,SAAYvJ,OAAOwJ,cAAgB,IAAIxJ,OAAOwJ,cAAoBxJ,OAAOyJ,oBAAsB,IAAIzJ,OAAOyJ,oBAAyB,QAuBzJC,kBAAoB,SAAC5G,GAAU,IAAAmD,EAQzB7D,EAAKQ,MANP+G,EAF2B1D,EAE3B0D,OACAL,EAH2BrD,EAG3BqD,QACAM,EAJ2B3D,EAI3B2D,OACAC,EAL2B5D,EAK3B4D,MACAC,EAN2B7D,EAM3B6D,WACAC,EAP2B9D,EAO3B8D,QAKE3H,EAAK6C,MADPkE,SAIA/G,EAAKsD,SAAS,CAAEyD,SAAS,GAAQ,kBAAM/G,EAAK4H,WAAWC,MAAM,KAflC,IAkBrBV,EAAYnH,EAAK6C,MAAjBsE,QACFW,EAAe9H,EAAK+H,SAASC,KAAKC,MAElCC,EAAkBX,GADa,GAAf7G,EAAM0E,OAAe,IAErC+C,EAAiBD,GAAmBR,GAAc,IAExD1H,EAAK+H,SAASC,KAAKI,sBAAsBjB,EAAQkB,aACjDrI,EAAK+H,SAASC,KAAKM,eAAeR,EAAcX,EAAQkB,aACxDrI,EAAK+H,SAASC,KAAKO,6BAA6BL,EAAiBf,EAAQkB,YAAcb,GACvFxH,EAAK+H,SAASC,KAAKO,6BAA6BJ,EAAgBhB,EAAQkB,YAAcb,EAASC,GAC/FzH,EAAK+H,SAASC,KAAKO,6BAA6BrB,EAASC,EAAQkB,YAAcb,EAASC,EAAQE,GAChG3H,EAAKsD,SAAS,CAAE0D,SAAS,OAG3BwB,gBAAkB,WAAM,IAAAC,EAIlBzI,EAAKQ,MAFP0G,EAFoBuB,EAEpBvB,QACAwB,EAHoBD,EAGpBC,QAGMvB,EAAYnH,EAAK6C,MAAjBsE,QACFW,EAAe9H,EAAK+H,SAASC,KAAKC,MAExCjI,EAAK+H,SAASC,KAAKI,sBAAsBjB,EAAQkB,aACjDrI,EAAK+H,SAASC,KAAKM,eAAeR,EAAcX,EAAQkB,aACxDrI,EAAK+H,SAASC,KAAKO,6BAA6BrB,EAASC,EAAQkB,YAAcK,GAC/E1I,EAAKsD,SAAS,CAAE0D,SAAS,wFAhEP,IAAA2B,EAIdxJ,KAAKqB,MAFPoI,EAFgBD,EAEhBC,KACA1B,EAHgByB,EAGhBzB,QAIAC,EACEhI,KAAK0D,MADPsE,QAGFhI,KAAK4I,SAAWZ,EAAQ0B,aACxB1J,KAAKyI,WAAaT,EAAQ2B,mBAC1B3J,KAAKyI,WAAWxD,KAAO,OACvBjF,KAAKyI,WAAWmB,UAAUd,MAAQnT,EAAW8T,GAC7CzJ,KAAK4I,SAASC,KAAKM,eAAepB,EAASC,EAAQkB,aACnDlJ,KAAKyI,WAAWoB,QAAQ7J,KAAK4I,UAC7B5I,KAAK4I,SAASiB,QAAQ7B,EAAQ8B,aAC9B9J,KAAK+J,SAAW,sCAkDT,IAAAC,EAAAC,EAIHjK,KAAKqB,MAFPoI,EAFKQ,EAELR,KACArH,EAHK6H,EAGL7H,MAGMyF,EAAY7H,KAAK0D,MAAjBmE,QAEFqC,EAAUT,EAAKU,QAAQ,MAAQ,GAAKV,EAAKU,QAAQ,MAAQ,EAEzDC,EAAYC,IAAW1C,EAAI2C,WAALN,EAAA,GAAAlK,OAAAyK,EAAA,EAAAzK,CAAAkK,EAAA,GAAAvK,OACtBkI,EAAI2C,UADkB,YACIzC,GADJ/H,OAAAyK,EAAA,EAAAzK,CAAAkK,EAAA,GAAAvK,OAEtBkI,EAAI2C,UAFkB,WAEGJ,GAFHF,IAK5B,OACE3C,EAAAvF,EAAAwF,cAAA,OACE8C,UAAWA,EACXhI,MAAKtC,OAAAoE,EAAA,EAAApE,CAAA,GACAsC,EADA,CAEHoI,QAAS,OACTC,iBAAkB,MAClBC,oBAAqB,SAGvBrD,EAAAvF,EAAAwF,cAACqD,EAAD,CACErE,cAAetG,KAAKmI,kBACpByC,SAAU,aACVxD,YAAapH,KAAKqJ,gBAClBjH,MAAO,CACLoI,QAAS,OACTC,iBAAkB,MAClBC,oBAAqB,MACrB1G,SAAU,WACVkC,MAAO,OACPP,OAAQ,OACR+B,IAAK,IACLD,KAAM,IACNoD,MAAOX,EAAU,OAAS,kBAnHpB1E,aAAZmC,EACG2C,UAAY,MAqIrB3C,EAAImD,aAAe,CACjBrB,KAAM,KACN1B,QAAS,KACTK,OAAQ,EACRC,OAAQ,IACRC,MAAO,GACPC,WAAY,GACZC,QAAS,EACTe,QAAS,GAGI5B,ICrJAA,EDqJAA,EEnJToD,6MACJrH,MAAQ,CACNsE,QAAUvJ,OAAOwJ,cAAgB,IAAIxJ,OAAOwJ,cAAoBxJ,OAAOyJ,oBAAsB,IAAIzJ,OAAOyJ,oBAAyB,8EAG1H,IAAAxD,EASH1E,KAAKqB,MAPP0G,EAFKrD,EAELqD,QACAK,EAHK1D,EAGL0D,OACAC,EAJK3D,EAIL2D,OACAC,EALK5D,EAKL4D,MACAC,EANK7D,EAML6D,WACAC,EAPK9D,EAOL8D,QACAe,EARK7E,EAQL6E,QAGMvB,EAAYhI,KAAK0D,MAAjBsE,QAEFgD,EAAY,CAChBC,KAAM,WACNC,SAAU,IACVC,SAAU,UAGNC,EAAiB,CACrBrD,UACAK,UAGIiD,EAAe,CACnBhD,SACAC,QACAC,aACAC,UACAe,WAGF,OACElC,EAAAvF,EAAAwF,cAAA,OACE8C,UAAU,WACVhI,MAAO,CACLoI,QAAS,OACTc,SAAU,aACVC,WAAY,UACZC,eAAgB,aAChB7F,OAAQ,OACRsF,KAAM,WACNQ,UAAW,IACXC,WAAY,SAGf,CACC,KACA,MACA,KACA,MACA,KACA,KACA,MACA,KACA,MACA,KACA,MACA,KACA,KACA,OACAC,IAAI,SAAAlC,GAAI,OACRpC,EAAAvF,EAAAwF,cAACsE,EAAD9L,OAAA+L,OAAA,CACE7D,QAASA,EACT8D,IAAKrC,EACLA,KAAMA,GACD2B,EACAC,EALP,CAMEjJ,MAAKtC,OAAAoE,EAAA,EAAApE,CAAA,GAAOkL,gBAzECxF,aAkFvBmC,EAAIzC,UAAY,CACd6C,QAASgE,IAAUC,OACnB5D,OAAQ2D,IAAUC,OAClB3D,OAAQ0D,IAAUC,OAClB1D,MAAOyD,IAAUC,OACjBzD,WAAYwD,IAAUC,OACtBxD,QAASuD,IAAUC,QAGrBrE,EAAImD,aAAe,CACjB/C,QAAS,KACTK,OAAQ,EACRC,OAAQ,IACRC,MAAO,IACPC,WAAY,GACZC,QAAS,EACTe,QAAS,GAGIwB,ICvGAA,EDuGAA,EEHAkB,6MA/FbvI,MAAQ,CACN2E,OAAQ,IACRC,MAAO,IACPC,WAAY,GACZC,QAAS,EACTe,QAAS,KAGX2C,OAAS,SAACJ,GAAD,OAAS,SAACvK,GACjB,IAAM4K,EAAYC,SAAS7K,EAAM2F,OAAO4B,MAAO,IAC1CuD,MAAMF,IACTtL,EAAKsD,SAALrE,OAAAyK,EAAA,EAAAzK,CAAA,GACGgM,EAAMK,8EAKJ,IAAAlI,EAOHjE,KAAK0D,MAEH2H,EAAe,CACnBhD,OAVKpE,EAELoE,OASAC,MAXKrE,EAGLqE,MASAC,WAZKtE,EAILsE,WASAC,QAbKvE,EAKLuE,QASAe,QAdKtF,EAMLsF,SAWF,OACElC,EAAAvF,EAAAwF,cAAA,OACE8C,UAAU,MACVhI,MAAO,CACLoI,QAAS,OACTc,SAAU,gBACV3F,OAAQ,QACRO,MAAO,UAGPmB,EAAAvF,EAAAwF,cAACgF,EAAA,OAAD,KACIjF,EAAAvF,EAAAwF,cAAA,wBAEJD,EAAAvF,EAAAwF,cAAA,OAAKlF,MAAO,CACV6I,KAAM,WACNQ,UAAW,MAEXpE,EAAAvF,EAAAwF,cAAA,SACErC,KAAK,SACLsH,YAAY,SACZC,SAAUxM,KAAKkM,OAAO,YAExB7E,EAAAvF,EAAAwF,cAAA,SACErC,KAAK,SACLsH,YAAY,QACZC,SAAUxM,KAAKkM,OAAO,WAExB7E,EAAAvF,EAAAwF,cAAA,SACErC,KAAK,SACLsH,YAAY,cACZC,SAAUxM,KAAKkM,OAAO,gBAExB7E,EAAAvF,EAAAwF,cAAA,SACErC,KAAK,SACLsH,YAAY,UACZC,SAAUxM,KAAKkM,OAAO,aAExB7E,EAAAvF,EAAAwF,cAAA,SACErC,KAAK,SACLsH,YAAY,UACZC,SAAUxM,KAAKkM,OAAO,cAG1B7E,EAAAvF,EAAAwF,cAAA,OAAKlF,MAAO,CACV6I,KAAM,WACNQ,UAAW,IACXN,SAAU,SACVX,QAAS,OACTc,SAAU,kBAEVjE,EAAAvF,EAAAwF,cAACmF,EAAD3M,OAAA+L,OAAA,CACE9D,QAAS,KACTK,OAAQ,GACJiD,aAxFA7F,aCKEkH,QACW,cAA7BjO,OAAOkO,SAASC,UAEe,UAA7BnO,OAAOkO,SAASC,UAEhBnO,OAAOkO,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAO1F,EAAAvF,EAAAwF,cAAC0F,EAAD,MAASlM,SAASmM,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.d829ad99.chunk.js","sourcesContent":["export const noteValues = {\n    'C0': 16.35,\n    'C#0': 17.32,\n    'Db0': 17.32,\n    'D0': 18.35,\n    'D#0': 19.45,\n    'Eb0': 19.45,\n    'E0': 20.60,\n    'F0': 21.83,\n    'F#0': 23.12,\n    'Gb0': 23.12,\n    'G0': 24.50,\n    'G#0': 25.96,\n    'Ab0': 25.96,\n    'A0': 27.50,\n    'A#0': 29.14,\n    'Bb0': 29.14,\n    'B0': 30.87,\n    'C1': 32.70,\n    'C#1': 34.65,\n    'Db1': 34.65,\n    'D1': 36.71,\n    'D#1': 38.89,\n    'Eb1': 38.89,\n    'E1': 41.20,\n    'F1': 43.65,\n    'F#1': 46.25,\n    'Gb1': 46.25,\n    'G1': 49.00,\n    'G#1': 51.91,\n    'Ab1': 51.91,\n    'A1': 55.00,\n    'A#1': 58.27,\n    'Bb1': 58.27,\n    'B1': 61.74,\n    'C2': 65.41,\n    'C#2': 69.30,\n    'Db2': 69.30,\n    'D2': 73.42,\n    'D#2': 77.78,\n    'Eb2': 77.78,\n    'E2': 82.41,\n    'F2': 87.31,\n    'F#2': 92.50,\n    'Gb2': 92.50,\n    'G2': 98.00,\n    'G#2': 103.83,\n    'Ab2': 103.83,\n    'A2': 110.00,\n    'A#2': 116.54,\n    'Bb2': 116.54,\n    'B2': 123.47,\n    'C3': 130.81,\n    'C#3': 138.59,\n    'Db3': 138.59,\n    'D3': 146.83,\n    'D#3': 155.56,\n    'Eb3': 155.56,\n    'E3': 164.81,\n    'F3': 174.61,\n    'F#3': 185.00,\n    'Gb3': 185.00,\n    'G3': 196.00,\n    'G#3': 207.65,\n    'Ab3': 207.65,\n    'A3': 220.00,\n    'A#3': 233.08,\n    'Bb3': 233.08,\n    'B3': 246.94,\n    'C4': 261.63,\n    'C#4': 277.18,\n    'Db4': 277.18,\n    'D4': 293.66,\n    'D#4': 311.13,\n    'Eb4': 311.13,\n    'E4': 329.63,\n    'F4': 349.23,\n    'F#4': 369.99,\n    'Gb4': 369.99,\n    'G4': 392.00,\n    'G#4': 415.30,\n    'Ab4': 415.30,\n    'A4': 440.00,\n    'A#4': 466.16,\n    'Bb4': 466.16,\n    'B4': 493.88,\n    'C5': 523.25,\n    'C#5': 554.37,\n    'Db5': 554.37,\n    'D5': 587.33,\n    'D#5': 622.25,\n    'Eb5': 622.25,\n    'E5': 659.26,\n    'F5': 698.46,\n    'F#5': 739.99,\n    'Gb5': 739.99,\n    'G5': 783.99,\n    'G#5': 830.61,\n    'Ab5': 830.61,\n    'A5': 880.00,\n    'A#5': 932.33,\n    'Bb5': 932.33,\n    'B5': 987.77,\n    'C6': 1046.50,\n    'C#6': 1108.73,\n    'Db6': 1108.73,\n    'D6': 1174.66,\n    'D#6': 1244.51,\n    'Eb6': 1244.51,\n    'E6': 1318.51,\n    'F6': 1396.91,\n    'F#6': 1479.98,\n    'Gb6': 1479.98,\n    'G6': 1567.98,\n    'G#6': 1661.22,\n    'Ab6': 1661.22,\n    'A6': 1760.00,\n    'A#6': 1864.66,\n    'Bb6': 1864.66,\n    'B6': 1975.53,\n    'C7': 2093.00,\n    'C#7': 2217.46,\n    'Db7': 2217.46,\n    'D7': 2349.32,\n    'D#7': 2489.02,\n    'Eb7': 2489.02,\n    'E7': 2637.02,\n    'F7': 2793.83,\n    'F#7': 2959.96,\n    'Gb7': 2959.96,\n    'G7': 3135.96,\n    'G#7': 3322.44,\n    'Ab7': 3322.44,\n    'A7': 3520.00,\n    'A#7': 3729.31,\n    'Bb7': 3729.31,\n    'B7': 3951.07,\n    'C8': 4186.01\n};\n\nexport const notesByOctave = {\n  '0': {\n    'C': 16.35,\n    'C#': 17.32,\n    'Db': 17.32,\n    'D': 18.35,\n    'D#': 19.45,\n    'Eb': 19.45,\n    'E': 20.60,\n    'F': 21.83,\n    'F#': 23.12,\n    'Gb': 23.12,\n    'G': 24.50,\n    'G#': 25.96,\n    'Ab': 25.96,\n    'A': 27.50,\n    'A#': 29.14,\n    'Bb': 29.14,\n    'B': 30.87,\n  },\n  '1': {\n    'C': 32.70,\n    'C#': 34.65,\n    'Db': 34.65,\n    'D': 36.71,\n    'D#': 38.89,\n    'Eb': 38.89,\n    'E': 41.20,\n    'F': 43.65,\n    'F#': 46.25,\n    'Gb': 46.25,\n    'G': 49.00,\n    'G#': 51.91,\n    'Ab': 51.91,\n    'A': 55.00,\n    'A#': 58.27,\n    'Bb': 58.27,\n    'B': 61.74,\n  },\n  '2': {\n    'C': 65.41,\n    'C#': 69.30,\n    'Db': 69.30,\n    'D': 73.42,\n    'D#': 77.78,\n    'Eb': 77.78,\n    'E': 82.41,\n    'F': 87.31,\n    'F#': 92.50,\n    'Gb': 92.50,\n    'G': 98.00,\n    'G#': 103.83,\n    'Ab': 103.83,\n    'A': 110.00,\n    'A#': 116.54,\n    'Bb': 116.54,\n    'B': 123.47,\n  },\n  '3': {\n    'C': 130.81,\n    'C#': 138.59,\n    'Db': 138.59,\n    'D': 146.83,\n    'D#': 155.56,\n    'Eb': 155.56,\n    'E': 164.81,\n    'F': 174.61,\n    'F#': 185.00,\n    'Gb': 185.00,\n    'G': 196.00,\n    'G#': 207.65,\n    'Ab': 207.65,\n    'A': 220.00,\n    'A#': 233.08,\n    'Bb': 233.08,\n    'B': 246.94,\n  },\n  '4': {\n    'C': 261.63,\n    'C#': 277.18,\n    'Db': 277.18,\n    'D': 293.66,\n    'D#': 311.13,\n    'Eb': 311.13,\n    'E': 329.63,\n    'F': 349.23,\n    'F#': 369.99,\n    'Gb': 369.99,\n    'G': 392.00,\n    'G#': 415.30,\n    'Ab': 415.30,\n    'A': 440.00,\n    'A#': 466.16,\n    'Bb': 466.16,\n    'B': 493.88,\n  },\n  '5': {\n    'C': 523.25,\n    'C#': 554.37,\n    'Db': 554.37,\n    'D': 587.33,\n    'D#': 622.25,\n    'Eb': 622.25,\n    'E': 659.26,\n    'F': 698.46,\n    'F#': 739.99,\n    'Gb': 739.99,\n    'G': 783.99,\n    'G#': 830.61,\n    'Ab': 830.61,\n    'A': 880.00,\n    'A#': 932.33,\n    'Bb': 932.33,\n    'B': 987.77,\n  },\n  '6': {\n    'C': 1046.50,\n    'C#': 1108.73,\n    'Db': 1108.73,\n    'D': 1174.66,\n    'D#': 1244.51,\n    'Eb': 1244.51,\n    'E': 1318.51,\n    'F': 1396.91,\n    'F#': 1479.98,\n    'Gb': 1479.98,\n    'G': 1567.98,\n    'G#': 1661.22,\n    'Ab': 1661.22,\n    'A': 1760.00,\n    'A#': 1864.66,\n    'Bb': 1864.66,\n    'B': 1975.53,\n  },\n  '7': {\n    'C': 2093.00,\n    'C#': 2217.46,\n    'Db': 2217.46,\n    'D': 2349.32,\n    'D#': 2489.02,\n    'Eb': 2489.02,\n    'E': 2637.02,\n    'F': 2793.83,\n    'F#': 2959.96,\n    'Gb': 2959.96,\n    'G': 3135.96,\n    'G#': 3322.44,\n    'Ab': 3322.44,\n    'A': 3520.00,\n    'A#': 3729.31,\n    'Bb': 3729.31,\n    'B': 3951.07,\n  },\n  '8': {\n    'C': 4186.01,\n  }\n};\n","import raf from 'raf';\n\nconst extractPosition = callback => (evt, ...args) => {\n  let nativeEvent = evt;\n  if (!(evt instanceof window.Event)) {\n    nativeEvent = evt.nativeEvent;\n  }\n\n  let touchPosition = null;\n  if (nativeEvent.touches && nativeEvent.touches.length) {\n    const touch = nativeEvent.touches[0];\n    touchPosition = { x: touch.clientX, y: touch.clientY };\n  } else if (nativeEvent.clientX && nativeEvent.clientY) {\n    touchPosition = { x: nativeEvent.clientX, y: nativeEvent.clientY };\n  }\n  return callback(touchPosition, evt, ...args);\n};\n\n\nclass TouchHandler {\n  constructor(onTouchStart, onTouchMove, onTouchEnd) {\n    // in the event both touch and click handlers can fire (e.g., chrome device\n    // mode), only add one set of handlers\n    this._listenersAdded = false;\n    this._currentAnimationFrame = null;\n\n    // delegated to callbacks\n    this._onTouchStart = onTouchStart;\n    this._onTouchMove = onTouchMove;\n    this._onTouchEnd = onTouchEnd;\n\n    this._handleTouchStart = extractPosition(this._handleTouchStart.bind(this));\n    this._handleMouseDown = extractPosition(this._handleMouseDown.bind(this));\n\n    this._handleTouchMove = extractPosition(this._handleTouchMove.bind(this));\n    this._handleTouchEnd = extractPosition(this._handleTouchEnd.bind(this));\n  }\n\n  listeners(child, onTouchStart, onMouseDown) {\n    return {\n      onTouchStart: evt => this._handleTouchStart(evt, child, onTouchStart),\n      onMouseDown: evt => this._handleMouseDown(evt, child, onMouseDown),\n    };\n  }\n\n  removeListeners() {\n    this._listenersAdded = false;\n    document.removeEventListener('touchmove', this._handleTouchMove);\n    document.removeEventListener('touchend', this._handleTouchEnd);\n    document.removeEventListener('touchcancel', this._handleTouchEnd);\n    document.removeEventListener('mousemove', this._handleTouchMove);\n    document.removeEventListener('mouseup', this._handleTouchEnd);\n  }\n\n  cancelAnimationFrame() {\n    raf.cancel(this._currentAnimationFrame);\n    this._currentAnimationFrame = null;\n  }\n\n  _addTouchListeners() {\n    this._listenersAdded = true;\n    document.addEventListener('touchmove', this._handleTouchMove);\n    document.addEventListener('touchend', this._handleTouchEnd);\n    document.addEventListener('touchcancel', this._handleTouchEnd);\n  }\n\n  _addMouseListeners() {\n    this._listenersAdded = true;\n    document.addEventListener('mousemove', this._handleTouchMove);\n    document.addEventListener('mouseup', this._handleTouchEnd);\n  }\n\n  _handleTouchStart(touchPosition, synthEvent, child, onTouchStart) {\n    if (this._listenersAdded) return;\n    this._addTouchListeners();\n\n    child.props.onTouchStart && child.props.onTouchStart(synthEvent);\n    onTouchStart && onTouchStart(synthEvent);\n    this._onTouchStart(touchPosition, synthEvent);\n  }\n\n  _handleMouseDown(touchPosition, synthEvent, child, onMouseDown) {\n    if (this._listenersAdded) return;\n    this._addMouseListeners();\n\n    child.props.onMouseDown && child.props.onMouseDown(synthEvent);\n    onMouseDown && onMouseDown(synthEvent);\n    this._onTouchStart(touchPosition, synthEvent);\n  }\n\n  _handleTouchMove(touchPosition, event) {\n    if (!this._currentAnimationFrame) {\n      this._currentAnimationFrame = raf(() => {\n        this._currentAnimationFrame = null;\n        this._onTouchMove(touchPosition, event);\n      });\n    }\n  }\n\n  _handleTouchEnd(touchPosition, event) {\n    this.cancelAnimationFrame();\n    this.removeListeners();\n    this._onTouchEnd(touchPosition, event);\n  }\n}\n\nexport default TouchHandler;\n","const DIRECTIVES = [\n  ['left', 'dx', add],\n  ['top', 'dy', add],\n  ['bottom', 'dy', subtract],\n  ['right', 'dx', subtract],\n  ['translateX', 'dx', add],\n  ['translateY', 'dy', add],\n];\n\nconst computePositionStyle = (currentStyle, deltas) => {\n  return DIRECTIVES.reduce((style, directive) => {\n    const [name, deltaType, operation] = directive;\n    if (currentStyle[name] !== undefined) {\n      // eslint-disable-next-line no-param-reassign\n      style[name] = operation(currentStyle[name], deltas[deltaType]);\n    }\n    return style;\n  }, {});\n};\n\nfunction add(a, b) {\n  return a + b;\n}\n\nfunction subtract(a, b) {\n  return add(a, -b);\n}\n\n\nexport default computePositionStyle;\n","const computeDeltas = (oldPosition, newPosition) => {\n  const { x: oldX, y: oldY } = oldPosition;\n  const { x: newX, y: newY } = newPosition;\n  return { dx: newX - oldX, dy: newY - oldY };\n};\n\nexport default computeDeltas;\n","import React from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport isFunction from 'lodash/isFunction';\n\nimport TouchHandler from './TouchHandler';\nimport computePositionStyle from './computePositionStyle.js';\nimport computeDeltas from './computeDeltas.js';\n\n\nconst ZERO_DELTAS = { dx: 0, dy: 0 };\nconst DEFAULT_TOUCH = { initial: null, current: null, deltas: ZERO_DELTAS };\n\n\nclass Draggable extends React.Component {\n\n  static propTypes = {\n    children: T.oneOfType([T.func, T.element]).isRequired,\n    position: T.objectOf(T.oneOfType([T.number, T.object])).isRequired,\n    onMouseDown: T.func,\n    onTouchStart: T.func,\n    onDrag: T.func,\n    onDragEnd: T.func,\n    __passThrough: T.object,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = DEFAULT_TOUCH;\n    this._touchHandler = new TouchHandler(\n      this.handleTouchStart.bind(this),\n      this.handleTouchMove.bind(this),\n      this.handleTouchEnd.bind(this),\n    );\n  }\n\n  passThroughState() {\n    const { position } = this.props;\n    const { deltas, current: touchPosition } = this.state;\n    const current = computePositionStyle(position, deltas);\n    return { ...current, ...deltas, ...touchPosition };\n  }\n\n  handleTouchStart(touchPosition) {\n    this.setState({ initial: touchPosition, current: touchPosition });\n  }\n\n  handleTouchMove(touchPosition, event) {\n    const { deltas, current } = this.state;\n    const touchDeltas = computeDeltas(current, touchPosition);\n    const componentPosition = computePositionStyle(this.props.position, touchDeltas);\n    this.props.onDrag && this.props.onDrag({ ...componentPosition, ...current }, event);\n\n    const latest = {dx: deltas.dx + touchDeltas.dx, dy: deltas.dy + touchDeltas.dy};\n    this.setState({ deltas: latest, current: touchPosition });\n  }\n\n  handleTouchEnd() {\n    this.props.onDragEnd && this.props.onDragEnd();\n  }\n\n  render() {\n    const { onTouchStart, onMouseDown, children, __passThrough } = this.props;\n    const passThrough = { ...__passThrough, ...this.passThroughState() };\n    const child = isFunction(children) ? children({ ...passThrough }) : children;\n    const props = {\n      ...this._touchHandler.listeners(child, onTouchStart, onMouseDown),\n    };\n\n    if (child.type.propTypes && child.type.propTypes.hasOwnProperty('__passThrough')) {\n      props.__passThrough = passThrough;\n    }\n\n    return React.cloneElement(React.Children.only(child), props);\n  }\n}\n\nexport default Draggable;\n","import Strikeable from './Strikeable.js';\n\nexport default Strikeable;\n","import React, { Component } from 'react';\n\nimport Draggable from '../Draggable.js';\n\nclass StrikeableDraggable extends Component {\n  state = {\n    dragging: false,\n    height: null,\n    initialTouchX: null,\n    initialTouchY: null,\n    parentX: null,\n    parentY: null,\n    touchX: null,\n    touchY: null,\n    width: null,\n  }\n\n  DraggableParent = React.createRef();\n\n  handleMouseDown = (event) => {\n    const { onStrikeStart } = this.props;\n\n    if (this.DraggableParent.current) {\n      const {\n        offsetWidth: width,\n        offsetHeight: height,\n        offsetLeft: parentX,\n        offsetTop: parentY,\n      } = this.DraggableParent.current;\n\n      const touchOffsetX = event.clientX;\n      const touchOffsetY = event.clientY;\n      const touchX = (touchOffsetX - parentX) / width;\n      const touchY = (touchOffsetY - parentY) / height;\n\n      this.setState({\n        dragging: true,\n        height,\n        initialTouchX: touchX,\n        initialTouchY: touchY,\n        parentX,\n        parentY,\n        touchX: touchX,\n        touchY: touchY,\n        width,\n        lastEvent: 'handleMouseDown',\n      });\n\n      onStrikeStart && onStrikeStart({ touchY });\n    }\n  }\n\n  handleTouchStart = (event) => {\n    const { onStrikeStart } = this.props;\n\n    if (!event.touches || event.touches.length > 0) {\n\n    }\n\n    if (this.DraggableParent.current) {\n      const {\n        offsetWidth: width,\n        offsetHeight: height,\n        offsetLeft: parentX,\n        offsetTop: parentY,\n      } = this.DraggableParent.current;\n\n      const touch = [...event.touches].pop() || {};\n      const touchOffsetX = touch.clientX;\n      const touchOffsetY = touch.clientY;\n      const touchX = (touchOffsetX - parentX) / width;\n      const touchY = (touchOffsetY - parentY) / height;\n\n      this.setState({\n        dragging: true,\n        height,\n        initialTouchX: touchX,\n        initialTouchY: touchY,\n        parentX,\n        parentY,\n        touchX: touchX,\n        touchY: touchY,\n        width,\n        lastEvent: 'handleTouchStart',\n      });\n\n      onStrikeStart && onStrikeStart({ touchY });\n    }\n  }\n\n  handleDrag = (event, nativeEvent) => {\n    // const { onStrike } = this.props;\n\n    const {\n      dragging,\n      height,\n      parentX,\n      parentY,\n      width,\n    } = this.state;\n\n    if (!dragging || !this.DraggableParent.current || !this.DraggableParent.current.contains(nativeEvent.target)) {\n      return;\n    }\n\n    const touchOffsetX = event.x;\n    const touchOffsetY = event.y;\n    const touchX = (touchOffsetX - parentX) / width;\n    const touchY = (touchOffsetY - parentY) / height;\n\n    if (touchX < 0 || touchX > 1 || touchY < 0 || touchY > 1) {\n      this.setState({\n        dragging: false,\n      });\n\n      this.handleDragEnd();\n\n      return;\n    }\n    //\n    // this.setState({\n    //   touchX: touchX,\n    //   touchY: touchY,\n    //   lastEvent: 'handleDrag',\n    // });\n    //\n    // onStrike && onStrike({ touchY });\n  }\n\n  handleDragEnd = () => {\n    const { onStrikeEnd } = this.props;\n\n    this.setState({\n      dragging: false,\n      lastEvent: 'handleDragEnd',\n    });\n\n    onStrikeEnd && onStrikeEnd();\n  }\n\n  render() {\n    const { style } = this.props;\n\n    return (\n      <div\n        ref={this.DraggableParent}\n        style={{\n          position: 'relative',\n          ...style,\n        }}\n      >\n        <Draggable\n          onMouseDown={this.handleMouseDown}\n          onTouchStart={this.handleTouchStart}\n          onDrag={this.handleDrag}\n          onDragEnd={this.handleDragEnd}\n          position={{\n            left: 0,\n            top: 0,\n          }}\n        >\n          {(event) => (\n            <div>\n            {/*\n              <div style={{\n                userSelect: 'none',\n                textShadow: '0 1px 0 rgba(255, 255, 255, 0.5)',\n                fontSize: '11px',\n                wordWrap: 'break-word',\n                position: 'absolute',\n                width: '100%',\n                height: '100%',\n              }}>\n                Drag me\n                <br />\n                X: {this.state.touchX}\n                <br />\n                Y: {this.state.touchY}\n                <br />\n                Last event: {this.state.lastEvent}\n              </div>\n            */}\n              <div\n                style={{\n                  ...style,\n                  position: 'absolute',\n                  width: '100%',\n                  height: '100%',\n                  top: '0',\n                  left: '0',\n                }}\n              />\n            </div>\n          )}\n        </Draggable>\n      </div>\n    );\n  }\n}\n\nexport default StrikeableDraggable;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { noteValues } from './notes';\nimport Strikeable from '../Strikeable';\n\nclass Key extends Component {\n  static baseClass = 'Key'\n\n  state = {\n    started: false,\n    playing: false,\n    nextVolume: this.props.volMute,\n    context: this.props.context || (window.AudioContext && new window.AudioContext()) || (window.webkitAudioContext && new window.webkitAudioContext()) || null,\n  }\n\n  componentDidMount() {\n    const {\n      note,\n      volMute,\n    } = this.props;\n\n    const {\n      context,\n    } = this.state;\n\n    this.gainNode = context.createGain()\n    this.oscillator = context.createOscillator()\n    this.oscillator.type = 'sine';\n    this.oscillator.frequency.value = noteValues[note];\n    this.gainNode.gain.setValueAtTime(volMute, context.currentTime);\n    this.oscillator.connect(this.gainNode);\n    this.gainNode.connect(context.destination);\n    this.nextGain = null;\n  }\n\n  handleStrikeStart = (event) => {\n    const {\n      volMax,\n      volMute,\n      attack,\n      decay,\n      decayLevel,\n      sustain,\n    } = this.props;\n\n    const {\n      started,\n    } = this.state;\n\n    if (!started) {\n      this.setState({ started: true }, () => this.oscillator.start(0))\n    }\n\n    const { context } = this.state;\n    const currentValue = this.gainNode.gain.value;\n    const keyMultiplier = event.touchY * 0.6 + 0.4;\n    const volAttackTarget = volMax * keyMultiplier;\n    const volDecayTarget = volAttackTarget * (decayLevel || 0.3);\n\n    this.gainNode.gain.cancelScheduledValues(context.currentTime);\n    this.gainNode.gain.setValueAtTime(currentValue, context.currentTime);\n    this.gainNode.gain.exponentialRampToValueAtTime(volAttackTarget, context.currentTime + attack);\n    this.gainNode.gain.exponentialRampToValueAtTime(volDecayTarget, context.currentTime + attack + decay);\n    this.gainNode.gain.exponentialRampToValueAtTime(volMute, context.currentTime + attack + decay + sustain);\n    this.setState({ playing: true });\n  }\n\n  handleStrikeEnd = () => {\n    const {\n      volMute,\n      release,\n    } = this.props;\n\n    const { context } = this.state;\n    const currentValue = this.gainNode.gain.value;\n\n    this.gainNode.gain.cancelScheduledValues(context.currentTime);\n    this.gainNode.gain.setValueAtTime(currentValue, context.currentTime);\n    this.gainNode.gain.exponentialRampToValueAtTime(volMute, context.currentTime + release);\n    this.setState({ playing: false });\n  }\n\n  render() {\n    const {\n      note,\n      style,\n    } = this.props;\n\n    const { playing } = this.state;\n\n    const isBlack = note.indexOf('#') >= 0 || note.indexOf('b') >= 0;\n\n    const className = classNames(Key.baseClass, {\n      [`${Key.baseClass}--active`]: playing,\n      [`${Key.baseClass}--black`]: isBlack,\n    });\n\n    return (\n      <div\n        className={className}\n        style={{\n          ...style,\n          display: 'grid',\n          gridTemplateRows: '1fr',\n          gridTemplateColumns: '1fr',\n        }}\n      >\n        <Strikeable\n          onStrikeStart={this.handleStrikeStart}\n          onStrike={() => {}}\n          onStrikeEnd={this.handleStrikeEnd}\n          style={{\n            display: 'grid',\n            gridTemplateRows: '1fr',\n            gridTemplateColumns: '1fr',\n            position: 'absolute',\n            width: '100%',\n            height: '100%',\n            top: '0',\n            left: '0',\n            color: isBlack ? '#444' : '#ccc',\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nKey.propTypes = {\n  note: PropTypes.string,\n  volMute: PropTypes.number,\n  volMax: PropTypes.number,\n  attack: PropTypes.number,\n  decay: PropTypes.number,\n  decayLevel: PropTypes.number,\n  sustain: PropTypes.number,\n  release: PropTypes.number,\n};\n\nKey.defaultProps = {\n  note: 'C4',\n  volMute: 0.0001,\n  volMax: 1,\n  attack: 0.03,\n  decay: 0.1,\n  decayLevel: 0.5,\n  sustain: 2,\n  release: 1,\n};\n\nexport default Key;\n","import './Key.css';\nimport Key from './Key.js';\n\nexport default Key;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Key from '../Key';\n\nclass KeyBoard extends Component {\n  state = {\n    context: (window.AudioContext && new window.AudioContext()) || (window.webkitAudioContext && new window.webkitAudioContext()) || null,\n  }\n\n  render() {\n    const {\n      volMute,\n      volMax,\n      attack,\n      decay,\n      decayLevel,\n      sustain,\n      release,\n    } = this.props;\n\n    const { context } = this.state;\n\n    const keySizing = {\n      flex: '1 1 auto',\n      minWidth: '0',\n      overflow: 'hidden',\n    };\n\n    const keyVolumeProps = {\n      volMute,\n      volMax,\n    };\n\n    const keyADSRProps = {\n      attack,\n      decay,\n      decayLevel,\n      sustain,\n      release,\n    };\n\n    return (\n      <div\n        className=\"KeyBoard\"\n        style={{\n          display: 'flex',\n          flexFlow: 'row nowrap',\n          alignItems: 'stretch',\n          justifyContent: 'flex-start',\n          height: '90vh',\n          flex: '1 1 auto',\n          minHeight: '0',\n          userSelect: 'none',\n        }}\n      >\n      {[\n        'C4',\n        'C#4',\n        'D4',\n        'D#4',\n        'E4',\n        'F4',\n        'F#4',\n        'G4',\n        'G#4',\n        'A4',\n        'A#4',\n        'B4',\n        'C5',\n        'C#5',\n      ].map(note => (\n        <Key\n          context={context}\n          key={note}\n          note={note}\n          { ...keyVolumeProps }\n          { ...keyADSRProps }\n          style={{ ...keySizing }}\n        />\n      ))}\n      </div>\n    );\n  }\n}\n\n\nKey.propTypes = {\n  volMute: PropTypes.number,\n  volMax: PropTypes.number,\n  attack: PropTypes.number,\n  decay: PropTypes.number,\n  decayLevel: PropTypes.number,\n  sustain: PropTypes.number,\n};\n\nKey.defaultProps = {\n  volMute: 0.0001,\n  volMax: 1,\n  attack: 0.03,\n  decay: 0.03,\n  decayLevel: 0.5,\n  sustain: 2,\n  release: 1,\n};\n\nexport default KeyBoard;\n","import './KeyBoard.css';\nimport KeyBoard from './KeyBoard.js';\n\nexport default KeyBoard;\n","import React, { Component } from 'react';\nimport { Helmet } from 'react-helmet';\nimport './App.css';\n\n// import Key from '../Key';\nimport KeyBoard from './KeyBoard';\n\nclass App extends Component {\n  state = {\n    attack: 0.05,\n    decay: 0.05,\n    decayLevel: 0.5,\n    sustain: 3,\n    release: 1,\n  }\n\n  update = (key) => (event) => {\n    const nextValue = parseInt(event.target.value, 10);\n    if (!isNaN(nextValue)) {\n      this.setState({\n        [key]: nextValue,\n      });\n    }\n  }\n\n  render() {\n    const {\n      attack,\n      decay,\n      decayLevel,\n      sustain,\n      release,\n    } = this.state;\n\n    const keyADSRProps = {\n      attack,\n      decay,\n      decayLevel,\n      sustain,\n      release,\n    };\n\n    return (\n      <div\n        className=\"App\"\n        style={{\n          display: 'flex',\n          flexFlow: 'column nowrap',\n          height: '100vh',\n          width: '100vw',\n        }}\n      >\n          <Helmet>\n              <title>Musico</title>\n          </Helmet>\n          <div style={{\n            flex: '0 0 10vw',\n            minHeight: '0',\n          }}>\n            <input\n              type=\"number\"\n              placeholder=\"Attack\"\n              onChange={this.update('attack')}\n            />\n            <input\n              type=\"number\"\n              placeholder=\"Decay\"\n              onChange={this.update('decay')}\n            />\n            <input\n              type=\"number\"\n              placeholder=\"Decay level\"\n              onChange={this.update('decayLevel')}\n            />\n            <input\n              type=\"number\"\n              placeholder=\"Sustain\"\n              onChange={this.update('sustain')}\n            />\n            <input\n              type=\"number\"\n              placeholder=\"Release\"\n              onChange={this.update('release')}\n            />\n          </div>\n          <div style={{\n            flex: '1 1 auto',\n            minHeight: '0',\n            overflow: 'hidden',\n            display: 'flex',\n            flexFlow: 'column nowrap',\n          }}>\n            <KeyBoard\n              volMute={0.0001}\n              volMax={1}\n              {...keyADSRProps}\n            />\n          </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}