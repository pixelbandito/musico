{"version":3,"sources":["TouchHandler.js","computePositionStyle.js","computeDeltas.js","Draggable.js","Strikeable/index.js","Strikeable/Strikeable.js","Key/Key.js","Key/index.js","KeyBoard/index.js","KeyBoard/KeyBoard.js","App.js","serviceWorker.js","index.js"],"names":["extractPosition","callback","evt","nativeEvent","window","Event","touchPosition","touches","length","touch","x","clientX","y","clientY","_len","arguments","args","Array","_key","apply","concat","TouchHandler","onTouchStart","onTouchMove","onTouchEnd","Object","classCallCheck","this","_listenersAdded","_currentAnimationFrame","_onTouchStart","_onTouchMove","_onTouchEnd","_handleTouchStart","bind","_handleMouseDown","_handleTouchMove","_handleTouchEnd","child","onMouseDown","_this","document","removeEventListener","raf","cancel","addEventListener","synthEvent","_addTouchListeners","props","_addMouseListeners","_this2","cancelAnimationFrame","removeListeners","DIRECTIVES","add","subtract","a","b","computePositionStyle","currentStyle","deltas","reduce","style","directive","_directive","slicedToArray","name","deltaType","operation","undefined","computeDeltas","oldPosition","newPosition","oldX","oldY","dx","dy","DEFAULT_TOUCH","initial","current","Draggable","possibleConstructorReturn","getPrototypeOf","call","state","_touchHandler","handleTouchStart","assertThisInitialized","handleTouchMove","handleTouchEnd","position","_this$state","objectSpread","setState","_this$state2","touchDeltas","componentPosition","onDrag","latest","onDragEnd","_this$props","children","__passThrough","passThrough","passThroughState","isFunction","listeners","type","propTypes","hasOwnProperty","React","cloneElement","Children","only","Component","Strikeable","dragging","height","initialTouchX","initialTouchY","parentX","parentY","touchX","touchY","width","DraggableParent","createRef","handleMouseDown","event","onStrikeStart","_this$DraggableParent","offsetWidth","offsetHeight","offsetLeft","offsetTop","handleDrag","onStrike","handleDragEnd","onStrikeEnd","react_default","createElement","ref","display","background","userSelect","src_Draggable","left","top","notes","c","d","e","Key","playing","context","AudioContext","webkitAudioContext","handleClick","gainNode","gain","exponentialRampToValueAtTime","currentTime","prevState","handleStrikeStart","console","log","handleStrikeEnd","note","createGain","oscillator","createOscillator","frequency","value","start","setValueAtTime","connect","destination","className","gridTemplateRows","gridTemplateColumns","src_Strikeable","KeyBoard","flexFlow","alignItems","justifyContent","src_Key","App","src_KeyBoard","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.59239ca8.chunk.js","sourcesContent":["import raf from 'raf';\n\nconst extractPosition = callback => (evt, ...args) => {\n  let nativeEvent = evt;\n  if (!(evt instanceof window.Event)) {\n    nativeEvent = evt.nativeEvent;\n  }\n\n  let touchPosition = null;\n  if (nativeEvent.touches && nativeEvent.touches.length) {\n    const touch = nativeEvent.touches[0];\n    touchPosition = { x: touch.clientX, y: touch.clientY };\n  } else if (nativeEvent.clientX && nativeEvent.clientY) {\n    touchPosition = { x: nativeEvent.clientX, y: nativeEvent.clientY };\n  }\n  return callback(touchPosition, evt, ...args);\n};\n\n\nclass TouchHandler {\n  constructor(onTouchStart, onTouchMove, onTouchEnd) {\n    // in the event both touch and click handlers can fire (e.g., chrome device\n    // mode), only add one set of handlers\n    this._listenersAdded = false;\n    this._currentAnimationFrame = null;\n\n    // delegated to callbacks\n    this._onTouchStart = onTouchStart;\n    this._onTouchMove = onTouchMove;\n    this._onTouchEnd = onTouchEnd;\n\n    this._handleTouchStart = extractPosition(this._handleTouchStart.bind(this));\n    this._handleMouseDown = extractPosition(this._handleMouseDown.bind(this));\n\n    this._handleTouchMove = extractPosition(this._handleTouchMove.bind(this));\n    this._handleTouchEnd = extractPosition(this._handleTouchEnd.bind(this));\n  }\n\n  listeners(child, onTouchStart, onMouseDown) {\n    return {\n      onTouchStart: evt => this._handleTouchStart(evt, child, onTouchStart),\n      onMouseDown: evt => this._handleMouseDown(evt, child, onMouseDown),\n    };\n  }\n\n  removeListeners() {\n    this._listenersAdded = false;\n    document.removeEventListener('touchmove', this._handleTouchMove);\n    document.removeEventListener('touchend', this._handleTouchEnd);\n    document.removeEventListener('touchcancel', this._handleTouchEnd);\n    document.removeEventListener('mousemove', this._handleTouchMove);\n    document.removeEventListener('mouseup', this._handleTouchEnd);\n  }\n\n  cancelAnimationFrame() {\n    raf.cancel(this._currentAnimationFrame);\n    this._currentAnimationFrame = null;\n  }\n\n  _addTouchListeners() {\n    this._listenersAdded = true;\n    document.addEventListener('touchmove', this._handleTouchMove);\n    document.addEventListener('touchend', this._handleTouchEnd);\n    document.addEventListener('touchcancel', this._handleTouchEnd);\n  }\n\n  _addMouseListeners() {\n    this._listenersAdded = true;\n    document.addEventListener('mousemove', this._handleTouchMove);\n    document.addEventListener('mouseup', this._handleTouchEnd);\n  }\n\n  _handleTouchStart(touchPosition, synthEvent, child, onTouchStart) {\n    if (this._listenersAdded) return;\n    this._addTouchListeners();\n\n    child.props.onTouchStart && child.props.onTouchStart(synthEvent);\n    onTouchStart && onTouchStart(synthEvent);\n    this._onTouchStart(touchPosition);\n  }\n\n  _handleMouseDown(touchPosition, synthEvent, child, onMouseDown) {\n    if (this._listenersAdded) return;\n    this._addMouseListeners();\n\n    child.props.onMouseDown && child.props.onMouseDown(synthEvent);\n    onMouseDown && onMouseDown(synthEvent);\n    this._onTouchStart(touchPosition);\n  }\n\n  _handleTouchMove(touchPosition) {\n    if (!this._currentAnimationFrame) {\n      this._currentAnimationFrame = raf(() => {\n        this._currentAnimationFrame = null;\n        this._onTouchMove(touchPosition);\n      });\n    }\n  }\n\n  _handleTouchEnd(touchPosition) {\n    this.cancelAnimationFrame();\n    this.removeListeners();\n    this._onTouchEnd(touchPosition);\n  }\n}\n\nexport default TouchHandler;\n","const DIRECTIVES = [\n  ['left', 'dx', add],\n  ['top', 'dy', add],\n  ['bottom', 'dy', subtract],\n  ['right', 'dx', subtract],\n  ['translateX', 'dx', add],\n  ['translateY', 'dy', add],\n];\n\nconst computePositionStyle = (currentStyle, deltas) => {\n  return DIRECTIVES.reduce((style, directive) => {\n    const [name, deltaType, operation] = directive;\n    if (currentStyle[name] !== undefined) {\n      // eslint-disable-next-line no-param-reassign\n      style[name] = operation(currentStyle[name], deltas[deltaType]);\n    }\n    return style;\n  }, {});\n};\n\nfunction add(a, b) {\n  return a + b;\n}\n\nfunction subtract(a, b) {\n  return add(a, -b);\n}\n\n\nexport default computePositionStyle;\n","const computeDeltas = (oldPosition, newPosition) => {\n  const { x: oldX, y: oldY } = oldPosition;\n  const { x: newX, y: newY } = newPosition;\n  return { dx: newX - oldX, dy: newY - oldY };\n};\n\nexport default computeDeltas;\n","import React from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport isFunction from 'lodash/isFunction';\n\nimport TouchHandler from './TouchHandler';\nimport computePositionStyle from './computePositionStyle.js';\nimport computeDeltas from './computeDeltas.js';\n\n\nconst ZERO_DELTAS = { dx: 0, dy: 0 };\nconst DEFAULT_TOUCH = { initial: null, current: null, deltas: ZERO_DELTAS };\n\n\nclass Draggable extends React.Component {\n\n  static propTypes = {\n    children: T.oneOfType([T.func, T.element]).isRequired,\n    position: T.objectOf(T.oneOfType([T.number, T.object])).isRequired,\n    onMouseDown: T.func,\n    onTouchStart: T.func,\n    onDrag: T.func,\n    onDragEnd: T.func,\n    __passThrough: T.object,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = DEFAULT_TOUCH;\n    this._touchHandler = new TouchHandler(\n      this.handleTouchStart.bind(this),\n      this.handleTouchMove.bind(this),\n      this.handleTouchEnd.bind(this),\n    );\n  }\n\n  passThroughState() {\n    const { position } = this.props;\n    const { deltas, current: touchPosition } = this.state;\n    const current = computePositionStyle(position, deltas);\n    return { ...current, ...deltas, ...touchPosition };\n  }\n\n  handleTouchStart(touchPosition) {\n    this.setState({ initial: touchPosition, current: touchPosition });\n  }\n\n  handleTouchMove(touchPosition) {\n    const { deltas, current } = this.state;\n    const touchDeltas = computeDeltas(current, touchPosition);\n    const componentPosition = computePositionStyle(this.props.position, touchDeltas);\n    this.props.onDrag && this.props.onDrag({ ...componentPosition, ...current });\n\n    const latest = {dx: deltas.dx + touchDeltas.dx, dy: deltas.dy + touchDeltas.dy};\n    this.setState({ deltas: latest, current: touchPosition });\n  }\n\n  handleTouchEnd() {\n    this.props.onDragEnd && this.props.onDragEnd();\n  }\n\n  render() {\n    const { onTouchStart, onMouseDown, children, __passThrough } = this.props;\n    const passThrough = { ...__passThrough, ...this.passThroughState() };\n    const child = isFunction(children) ? children({ ...passThrough }) : children;\n    const props = {\n      ...this._touchHandler.listeners(child, onTouchStart, onMouseDown),\n    };\n\n    if (child.type.propTypes && child.type.propTypes.hasOwnProperty('__passThrough')) {\n      props.__passThrough = passThrough;\n    }\n\n    return React.cloneElement(React.Children.only(child), props);\n  }\n}\n\nexport default Draggable;\n","import Strikeable from './Strikeable.js';\n\nexport default Strikeable;\n","import React, { Component } from 'react';\n\nimport Draggable from '../Draggable.js';\n\nclass StrikeableDraggable extends Component {\n  state = {\n    dragging: false,\n    height: null,\n    initialTouchX: null,\n    initialTouchY: null,\n    parentX: null,\n    parentY: null,\n    touchX: null,\n    touchY: null,\n    width: null,\n  }\n\n  DraggableParent = React.createRef();\n\n  handleMouseDown = (event) => {\n    const { onStrikeStart } = this.props;\n\n    if (this.DraggableParent.current) {\n      const {\n        offsetWidth: width,\n        offsetHeight: height,\n        offsetLeft: parentX,\n        offsetTop: parentY,\n      } = this.DraggableParent.current;\n\n      const touchOffsetX = event.clientX;\n      const touchOffsetY = event.clientY;\n      const touchX = (touchOffsetX - parentX) / width;\n      const touchY = (touchOffsetY - parentY) / height;\n\n      this.setState({\n        dragging: true,\n        height,\n        initialTouchX: touchX,\n        initialTouchY: touchY,\n        parentX,\n        parentY,\n        touchX: touchX,\n        touchY: touchY,\n        width,\n      });\n\n      onStrikeStart && onStrikeStart({ touchY });\n    }\n  }\n\n  handleTouchStart = (event, ...rest) => {\n    const { onStrikeStart } = this.props;\n    onStrikeStart && onStrikeStart();\n  }\n\n  handleDrag = (event, ...rest) => {\n    const { onStrike } = this.props;\n\n    const {\n      dragging,\n      height,\n      parentX,\n      parentY,\n      width,\n    } = this.state;\n\n    if (dragging) {\n      const touchOffsetX = event.x;\n      const touchOffsetY = event.y;\n      const touchX = (touchOffsetX - parentX) / width;\n      const touchY = (touchOffsetY - parentY) / height;\n\n      if (touchX < 0 || touchX > 1 || touchY < 0 || touchY > 1) {\n        this.setState({\n          dragging: false,\n        });\n\n        this.handleDragEnd();\n\n        return;\n      }\n\n      this.setState({\n        touchX: touchX,\n        touchY: touchY,\n      });\n\n      onStrike && onStrike({ touchY });\n    }\n  }\n\n  handleDragEnd = () => {\n    const { onStrikeEnd } = this.props;\n\n    this.setState({\n      dragging: false,\n    });\n\n    onStrikeEnd && onStrikeEnd();\n  }\n\n  render() {\n    return (\n      <div\n        ref={this.DraggableParent}\n        style={{\n          display: 'inline-block',\n          height: '100px',\n          width: '100px',\n          background: 'pink',\n          userSelect: 'none',\n        }}\n      >\n        <Draggable\n          onMouseDown={this.handleMouseDown}\n          onTouchStart={this.handleTouchStart}\n          onDrag={this.handleDrag}\n          onDragEnd={this.handleDragEnd}\n          position={{\n            left: 0,\n            top: 0,\n          }}\n        >\n          {(event) => (\n            <div>\n              Drag me\n              <br />\n              X: {this.state.touchX}\n              <br />\n              Y: {this.state.touchY}\n            </div>\n          )}\n        </Draggable>\n      </div>\n    );\n  }\n}\n\nexport default StrikeableDraggable;\n","import React, { Component } from 'react';\n\nimport Strikeable from '../Strikeable';\n\nconst notes = {\n  c: 261.6,\n  d: 293.7,\n  e: 329.6,\n}\n\nclass Key extends Component {\n  state = {\n    playing: false,\n    context: (window.AudioContext && new window.AudioContext()) || (window.webkitAudioContext && new window.webkitAudioContext()) || null,\n  }\n\n  componentDidMount() {\n    const { note } = this.props;\n    const { context } = this.state;\n    this.gainNode = context.createGain()\n    this.oscillator = context.createOscillator()\n    this.oscillator.type = 'sine';\n    this.oscillator.frequency.value = notes[note];\n    this.oscillator.start(0);\n    this.gainNode.gain.setValueAtTime(0.0001, context.currentTime);\n    this.oscillator.connect(this.gainNode);\n    this.gainNode.connect(context.destination);\n  }\n\n  handleClick = () => {\n    const { context, playing } = this.state;\n\n    if (playing) {\n      this.gainNode.gain.exponentialRampToValueAtTime(0.00001, context.currentTime + 0.4);\n    } else {\n      this.gainNode.gain.exponentialRampToValueAtTime(1, context.currentTime + 0.1);\n    }\n    this.setState(prevState => ({ playing: !prevState.playing }))\n  }\n\n  handleStrikeStart = () => {\n    console.log('handleStrikeStart');\n    const { context } = this.state;\n    this.gainNode.gain.exponentialRampToValueAtTime(1, context.currentTime + 0.1);\n    this.setState({ playing: true });\n  }\n\n  handleStrikeEnd = () => {\n    console.log('handleStrikeEnd');\n    const { context } = this.state;\n    this.gainNode.gain.exponentialRampToValueAtTime(0.00001, context.currentTime + 0.4);\n    this.setState({ playing: false });\n  }\n\n  render() {\n    return (\n      <div\n        className=\"Key\"\n        style={{\n          display: 'grid',\n          gridTemplateRows: '1fr',\n          gridTemplateColumns: '1fr',\n        }}\n      >\n        <Strikeable\n          onStrikeStart={this.handleStrikeStart}\n          onStrike={() => {}}\n          onStrikeEnd={this.handleStrikeEnd}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Key;\n","import './Key.css';\nimport Key from './Key.js';\n\nexport default Key;\n","import './KeyBoard.css';\nimport KeyBoard from './KeyBoard.js';\n\nexport default KeyBoard;\n","import React, { Component } from 'react';\n\nimport Key from '../Key';\n\nclass KeyBoard extends Component {\n  render() {\n    return (\n      <div\n        className=\"KeyBoard\"\n        style={{\n          display: 'flex',\n          flexFlow: 'row nowrap',\n          alignItems: 'stretch',\n          justifyContent: 'space-between',\n        }}\n      >\n        <div>\n          <Key note=\"c\" />\n        </div>\n        <div>\n          <Key note=\"d\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default KeyBoard;\n","import React, { Component } from 'react';\nimport './App.css';\n\n// import Key from '../Key';\nimport KeyBoard from './KeyBoard';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n          <div>\n            <KeyBoard />\n          </div>\n          {/*\n            <div>\n              <Key note=\"c\" />\n              <Key note=\"d\" />\n              <Key note=\"e\" />\n            </div>\n          */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}